[{"categories":["python","conda"],"content":"ä»‹ç» Conda å¯ä»¥ç”¨æ¥åœ¨ä¸€å°æœºå™¨ä¸Šç®¡ç†ä¸åŒçš„ Python ç‰ˆæœ¬ã€‚\næ¯”å¦‚é¡¹ç›® A ä½¿ç”¨ python3.10ï¼Œé¡¹ç›® B ä½¿ç”¨ python3.12ã€‚\nConda æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šAnaconda å’Œ Minicondaã€‚\nä¸€èˆ¬é€‰æ‹© Miniconda å°±å¯ä»¥äº†ï¼ŒAnaconda åªæ˜¯å¤šäº†ä¸€äº›ç§‘å­¦è®¡ç®—ç›¸å…³çš„åŒ…ã€‚\nå®‰è£… è¿™é‡Œåªè®² Miniconda å®‰è£…ã€‚\n1 2 3 4 5 6 7 8 # åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾ miniconda å’Œå®ƒå°†è¦ç®¡ç†çš„ Python ç›¸å…³æ–‡ä»¶ã€‚ # æ–‡ä»¶å¤¹åå­—å¯ä»¥éšä¾¿å†™ï¼Œåªè¦åé¢å‘½ä»¤ä¿æŒä¸€è‡´å³å¯ mkdir -p ~/miniconda3 wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh # æ‰§è¡Œå®‰è£… bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3 rm ~/miniconda3/miniconda.sh æƒŠï¼è¿™ä¸ªå®‰è£…ç”¨çš„ shell è„šæœ¬ç«Ÿç„¶æœ‰ 142Mï¼ˆé‡Œé¢åŒ…å«ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶å†…å®¹ï¼‰ã€‚ æ ¹æ®ä½ ä½¿ç”¨çš„ shell ç±»å‹è¿›è¡Œåˆå§‹åŒ–ã€‚init ä¹‹åï¼Œé‡å¯ä¸‹ç»ˆç«¯ï¼Œå°±è‡ªåŠ¨æ¿€æ´» conda ç¯å¢ƒäº†ã€‚\n1 2 3 4 5 6 7 ~/miniconda3/bin/conda init bash æˆ– ~/miniconda3/bin/conda init zsh æˆ– ~/miniconda3/bin/conda init fish æˆ– ~/miniconda3/bin/conda init \u003cå…¶ä»–\u003e é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿›å…¥ç»ˆç«¯ï¼Œéƒ½ä¼šæ‰“å¼€ä¸€ä¸ªåä¸ºbaseçš„ conda ç¯å¢ƒï¼Œä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ã€‚\næ‰€ä»¥é‡å¯ç»ˆç«¯åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ç¦ç”¨å®ƒï¼š\n1 conda config --set auto_activate_base false ä½¿ç”¨ å¸®åŠ©ä¿¡æ¯ conda -hï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 $ conda -h usage: conda [-h] [-v] [--no-plugins] [-V] COMMAND ... conda is a tool for managing and deploying applications, environments and packages. options: -h, --help Show this help message and exit. -v, --verbose Can be used multiple times. Once for detailed output, twice for INFO logging, thrice for DEBUG logging, four times for TRACE logging. --no-plugins Disable all plugins that are not built into conda. -V, --version Show the conda version number and exit. commands: The following built-in and plugins subcommands are available. COMMAND activate Activate a conda environment. clean Remove unused packages and caches. compare Compare packages between conda environments. config Modify configuration values in .condarc. content-trust Signing and verification tools for Conda create Create a new conda environment from a list of specified packages. deactivate Deactivate the current active conda environment. doctor Display a health report for your environment. export Export a given environment info Display information about current conda install. init Initialize conda for shell interaction. install Install a list of packages into a specified conda environment. list List installed packages in a conda environment. notices Retrieve latest channel notifications. package Create low-level conda packages. (EXPERIMENTAL) remove (uninstall) Remove a list of packages from a specified conda environment. rename Rename an existing environment. repoquery Advanced search for repodata. run Run an executable in a conda environment. search Search for packages and display associated information using the MatchSpec format. update (upgrade) Update conda packages to the latest compatible version. åˆ›å»ºæŒ‡å®š python ç‰ˆæœ¬çš„ conda ç¯å¢ƒï¼š\n1 2 3 4 conda create --name \u003cenv_name\u003e python=\u003cversion\u003e # åˆ›å»ºä¸€ä¸ªåç§°ä¸º myenv çš„ python3.10 ç‰ˆæœ¬çš„ç¯å¢ƒ conda create --name myenv python=3.10 æŸ¥çœ‹å·²æœ‰ conda ç¯å¢ƒï¼š\n1 conda env list åˆ‡æ¢ conda ç¯å¢ƒï¼š\n1 conda activate \u003cenv_name\u003e åˆ é™¤æŸä¸ª conda ç¯å¢ƒï¼š\n1 conda remove --name \u003cenv_name\u003e --all é€€å‡º conda ç¯å¢ƒï¼š\n1 conda deactivate å…¶ä»– conda \u0026 venv conda ç®¡ç†çš„æ˜¯ python å¤šç‰ˆæœ¬ï¼Œvenv ç®¡ç†çš„æ˜¯å¤šé¡¹ç›®çš„ä¾èµ–ã€‚\nè¿™ä¿©å¹¶ä¸å†²çªï¼Œå¯ä»¥ç†è§£æˆ conda ç®¡ç†çš„æ¯” venv é«˜ä¸€å±‚ã€‚\nä½ å¯ä»¥åœ¨æŸä¸€ä¸ª conda ç¯å¢ƒé‡Œåœ¨ä½¿ç”¨ venv åˆ›å»ºé¡¹ç›®çš„è™šæ‹Ÿç¯å¢ƒã€‚\nå¹¶ä¸”åœ¨åˆ›å»ºå®Œè™šæ‹Ÿç¯å¢ƒåï¼Œä¹Ÿå¯ä»¥åœ¨ conda ç¯å¢ƒä¹‹å¤–è¿›å…¥è¯¥è™šæ‹Ÿç¯å¢ƒã€‚\nåœ¨è¯¥è™šæ‹Ÿç¯å¢ƒé‡Œå®‰è£…çš„åŒ…ï¼Œåªåœ¨è¯¥è™šæ‹Ÿç¯å¢ƒå†…æœ‰æ•ˆã€‚\nå¤šè¯­è¨€æ”¯æŒ å®é™…ä¸Šï¼Œconda ä¸ä»…å¯ä»¥ç”¨æ¥ç®¡ç† pythonï¼Œè¿˜å¯ä»¥ç®¡ç†ã€Œå…¶ä»–è¯­è¨€ã€ã€‚æ¯”å¦‚åˆ›å»ºä¸€ä¸ª go1.21 çš„ conda ç¯å¢ƒï¼š\n1 conda create --name go1.21 go=1.21 æ®æˆ‘ç›®å‰ç†è§£ï¼Œconda è¦è§£å†³çš„é—®é¢˜æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š\n1ã€åœ¨åŒä¸€å°æœºå™¨ä¸Šåˆ›å»ºä¸åˆ‡æ¢æŸä¸ªç¼–ç¨‹è¯­è¨€çš„å¤šä¸ªç‰ˆæœ¬ç¯å¢ƒã€‚\n2ã€å°†è¯­è¨€ä¾èµ–åŒ…é›†ä¸­åœ¨ conda è‡ªå·±çš„ channel å»ä¸‹è½½ï¼Œå¹¶æä¾›ä¸€äº›ä¼˜åŒ–æ”¯æŒã€‚æ¯”å¦‚å¯ä»¥ç”¨ conda install numpy=1.21 æ›¿ä»£ pip install numpy==1.21\nä¸ªäººè§‰å¾—ç¬¬ä¸€ç‚¹æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œç¡®å®æŸäº›æ—¶å€™æœ‰è¿™ä¸ªéœ€è¦ã€‚\nè‡³äºç¬¬äºŒç‚¹ï¼Œå—¯ã€‚ã€‚ã€‚åæ­£æˆ‘æ²¡è¿™ä¸ªéœ€æ±‚ã€‚\nå•†ç”¨é£é™© å®˜æ–¹è¯´æ˜é‡Œæœ‰è¿™ä¹ˆä¸€æ®µè¯ï¼š ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š\nMiniconda å¯ä¾›ä»»ä½•äººå…è´¹ä½¿ç”¨ï¼ä½†æ˜¯ï¼Œåªæœ‰ä¸ªäººå’Œå°å‹ç»„ç»‡ï¼ˆå°‘äº 200 åå‘˜å·¥ï¼‰æ‰èƒ½å…è´¹è®¿é—® Anaconda çš„å…¬å…±è½¯ä»¶åŒ…å­˜å‚¨åº“ã€‚å¤§å‹ç»„ç»‡å’Œä»»ä½•åµŒå…¥æˆ–é•œåƒ Anaconda å­˜å‚¨åº“çš„äººéƒ½éœ€è¦ä»˜è´¹è®¸å¯è¯ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… TOSã€‚\nMiniforge è¿˜æœ‰ä¸€ä¸ªå’Œ conda ç±»ä¼¼çš„ç¤¾åŒºé©±åŠ¨çš„é¡¹ç›® miniforge:\nhttps://github.com/conda-forge/miniforge.\nhttps://conda-forge.org/docs/user/introduction/\næ®äº†è§£æ˜¯ä¸ºäº†è§£å†³ conda åœ¨åŒ…ç®¡ç†æ–¹é¢çš„é—®é¢˜ï¼ˆä¸»è¦æ˜¯æ…¢ã€åˆ†æ•£ï¼‰ï¼Œä»¥åŠå¯¹ arm å¹³å°çš„æ”¯æŒï¼Œç”¨æ³•å’Œ conda ä¸€æ ·ã€‚å¦‚æœåªç”¨æ¥ç®¡ç†è¯­è¨€å¤šç‰ˆæœ¬ç¯å¢ƒï¼Œè¿™ä¿©æ²¡å•¥åŒºåˆ«ã€‚\nå¸è½½ https://docs.anaconda.com/anaconda/install/uninstall/\n1 2 3 4 5 conda activate conda init --reverse --all # æ³¨æ„è¿™é‡Œæ˜¯ä½  conda çš„å®‰è£…ç›®å½•ï¼Œé»˜è®¤æ˜¯ miniconda3 rm -rf ~/miniconda3 ","description":"","tags":["python","conda"],"title":"Conda å®‰è£…å’Œä½¿ç”¨","uri":"/posts/conda/"},{"categories":["sharkd"],"content":"ä»‹ç» å®˜æ–¹æ¥å£æ–‡æ¡£ï¼šhttps://wiki.wireshark.org/sharkd-JSON-RPC\nsharkd æ˜¯ wireshark é‡Œç”¨æ¥è§£ææ•°æ®åŒ…çš„æ¨¡å—ï¼Œå¯ä»¥å•ç‹¬ç¼–è¯‘å’Œä½¿ç”¨ã€‚\nsharkd å¯æ‰§è¡Œæ–‡ä»¶æœªåŒ…å«åœ¨æ ‡å‡† Wireshark äºŒè¿›åˆ¶åŒ…ï¼ˆWindows MSI ç­‰ï¼‰ä¸­ï¼Œå› æ­¤å¿…é¡»ä»æºä»£ç æ„å»ºã€‚\nsharkd æä¾›äº†æ¥å£ç”¨äºæ•°æ®æŸ¥è¯¢ï¼ˆä½¿ç”¨ tcp æˆ–æœ¬åœ° socketï¼‰ã€‚\nå‘é€ç»™ sharkd è¿›ç¨‹çš„è¯·æ±‚æ ¼å¼ä¸º {\"jsonrpc\":\"2.0\",\"id\":1, \"method\": \"xxx\"}ã€‚ å…¶ä¸­çš„ id ä¸ºé 0 çš„æ•°å­—ï¼Œè¡¨ç¤ºè¯·æ±‚åºå·ï¼Œè¯·æ±‚å’Œåº”ç­”æ ¹æ® id è¿›è¡Œå…³è”ï¼Œæ‰€ä»¥è¯·å°½é‡ä¿è¯æ¯ä¸ªè¯·æ±‚ id ä¸é‡å¤ã€‚\nç¼–è¯‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 git clone --depth=1 https://github.com/wireshark/wireshark cd wireshark # debian ç³»ä½¿ç”¨è¿™ä¸ªï¼Œå…¶ä»–å¹³å°åœ¨toolsç›®å½•ä¸‹æ‰¾å¯¹åº”çš„æ–‡ä»¶å³å¯ tools/debian-setup.sh mkdir build cd build cmake -DBUILD_wireshark=OFF .. make -j # ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶åœ¨ ./run/sharkd ä½¿ç”¨ å¯åŠ¨ sharkd å®ˆæŠ¤è¿›ç¨‹ï¼š\n1 2 3 4 $ sharkd -a unix:/tmp/sharkd.sock Running as user \"root\" and group \"root\". This could be dangerous. Sharkd listening on: unix:/tmp/sharkd.sock ä½¿ç”¨ä»£ç å’Œ sharkd äº¤äº’ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import socket def get_json_bytes(json_string): return bytes((json_string + '\\n'), 'utf-8') def json_send_recv(s, json) -\u003e str: s.sendall(get_json_bytes(json)) data = s.recv(1024) return data[:].decode('utf-8') s = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM) s.connect(\"/tmp/sharkd.sock\") json_string = '{\"jsonrpc\":\"2.0\",\"id\":1, \"method\": \"status\"}' print('send: ' + json_string) rx_json = json_send_recv(s, json_string) print('recv: ' + rx_json) s.close() è®© sharkd åŠ è½½æŠ“åŒ…æ–‡ä»¶ï¼Œå‘ sharkd æ¥å£å‘é€ä»¥ä¸‹å†…å®¹ï¼š\n1 {\"jsonrpc\":\"2.0\",\"id\":1, \"method\": \"load\", \"file\": \"/tmp/test.pcap\"} å¯¹ sharkd æ¥è¯´ï¼Œæ–‡ä»¶æ˜¯ä¸€æ¬¡æ€§åŠ è½½çš„ï¼Œå¦‚æœåŠ è½½åæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œsharkd å¹¶ä¸ä¼šåŠ¨æ€æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦å¼€å‘äººå‘˜ç»™ sharkd å‘é€ä¸Šè¿°æŒ‡ä»¤é‡æ–°åŠ è½½ã€‚\næ›´å¤šä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nå…¶ä»– è¿˜æœ‰ä¸€ä¸ªç»å¸¸è¢«æœåˆ°çš„æ–‡æ¡£ï¼Œhttps://wiki.wireshark.org/Development/sharkd\nåº”è¯¥æ˜¯è¿‡æ—¶äº†ï¼Œå°±ä¸è¦çœ‹äº†ï¼Œé‡Œé¢å†…å®¹ä¸å¯¹ï¼Œå¾ˆè¿·æƒ‘äººã€‚\n","description":"","tags":["sharkd"],"title":"wireshark ä¹‹ sharkd ä½¿ç”¨","uri":"/posts/sharkd/"},{"categories":["ai"],"content":"æ¦‚å¿µ é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼ŒAIÂ è¾“å‡ºå†…å®¹å­˜åœ¨éšæœºæ€§ã€‚\nAI æ¨ç†æ˜¯æŒ‡äººå·¥æ™ºèƒ½åœ¨å¤„ç†é—®é¢˜æ—¶ï¼Œæ ¹æ®å·²æœ‰çš„æ•°æ®å’Œæ¨¡å‹ï¼Œè¿›è¡Œé€»è¾‘æ¨æ–­å’Œç”Ÿæˆç­”æ¡ˆçš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬äº†ä»å¤§é‡çš„æ•°æ®ä¸­æŠ½å–æœ‰ç”¨ä¿¡æ¯ã€åº”ç”¨å·²å­¦çš„è§„åˆ™æˆ–æ¨¡å¼ã€å¹¶æœ€ç»ˆå¾—å‡ºä¸€ä¸ªå¯èƒ½çš„å›ç­”ã€‚ç”±äº AI ç”Ÿæˆçš„ç»“æœæœ‰æ—¶ä¼šæœ‰æ‰€ä¸åŒï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š\néšæœºæ€§ï¼šè®¸å¤š AI æ¨¡å‹åœ¨ç”Ÿæˆå›ç­”æ—¶ä¼šå¼•å…¥ä¸€å®šçš„éšæœºæ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨ç”Ÿæˆæ–‡æœ¬æ—¶ï¼Œæ¨¡å‹å¯èƒ½ä¼šä»å¤šä¸ªåˆé€‚çš„é€‰é¡¹ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªï¼Œå› æ­¤åŒä¸€ä¸ªé—®é¢˜çš„å›ç­”å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚\nä¸Šä¸‹æ–‡ç†è§£ï¼šAI çš„å›ç­”ä¼šå—åˆ°ä¸Šä¸‹æ–‡çš„å½±å“ã€‚ä¸åŒçš„ä¸Šä¸‹æ–‡æˆ–é—®æ³•å¯èƒ½å¯¼è‡´æ¨¡å‹å…³æ³¨ä¸åŒçš„ç»†èŠ‚ï¼Œä»è€Œäº§ç”Ÿä¸åŒçš„å›ç­”ã€‚\nè®­ç»ƒæ•°æ®ï¼šAI çš„å›ç­”åŸºäºå…¶è®­ç»ƒæ•°æ®å’Œå­¦ä¹ åˆ°çš„æ¨¡å¼ã€‚å¦‚æœè®­ç»ƒæ•°æ®æœ‰å¤šç§å¯èƒ½çš„è§£é‡Šæˆ–è§‚ç‚¹ï¼Œæ¨¡å‹çš„å›ç­”å¯èƒ½ä¼šä½“ç°è¿™äº›å¤šæ ·æ€§ã€‚\næ¨¡å‹å‚æ•°ï¼šä¸åŒçš„æ¨¡å‹ç‰ˆæœ¬æˆ–é…ç½®å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„å›ç­”ã€‚å‚æ•°è°ƒæ•´æˆ–æ¨¡å‹æ›´æ–°ä¹Ÿå¯èƒ½å½±å“ç”Ÿæˆçš„å†…å®¹ã€‚\nç”Ÿæˆç­–ç•¥ï¼šåœ¨ç”Ÿæˆç­”æ¡ˆæ—¶ï¼ŒAI æ¨¡å‹å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„ç­–ç•¥ï¼Œä¾‹å¦‚é•¿åº¦é™åˆ¶ã€å†…å®¹å¤šæ ·æ€§ç­‰ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´å›ç­”çš„å˜åŒ–ã€‚\nå¦‚æœæœ‰å¤–éƒ¨çŸ¥è¯†åº“çš„è¾…åŠ©ï¼ŒAI è¾“å‡ºçš„å†…å®¹å°±ä¼šæœ‰æ›´å¥½çš„ç¡®å®šæ€§\næ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGÂ -Â Retrieval-AugmentedÂ Generationï¼‰æ˜¯æŒ‡å¯¹å¤§å‹è¯­è¨€æ¨¡å‹è¾“å‡ºè¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ç”Ÿæˆå“åº”ä¹‹å‰å¼•ç”¨è®­ç»ƒæ•°æ®æ¥æºä¹‹å¤–çš„æƒå¨çŸ¥è¯†åº“ã€‚å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç”¨æµ·é‡æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œä½¿ç”¨æ•°åäº¿ä¸ªå‚æ•°ä¸ºå›ç­”é—®é¢˜ã€ç¿»è¯‘è¯­è¨€å’Œå®Œæˆå¥å­ç­‰ä»»åŠ¡ç”ŸæˆåŸå§‹è¾“å‡ºã€‚åœ¨Â LLMÂ æœ¬å°±å¼ºå¤§çš„åŠŸèƒ½åŸºç¡€ä¸Šï¼ŒRAGÂ å°†å…¶æ‰©å±•ä¸ºèƒ½è®¿é—®ç‰¹å®šé¢†åŸŸæˆ–ç»„ç»‡çš„å†…éƒ¨çŸ¥è¯†åº“ï¼Œæ‰€æœ‰è¿™äº›éƒ½æ— éœ€é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚è¿™æ˜¯ä¸€ç§ç»æµé«˜æ•ˆåœ°æ”¹è¿›Â LLMÂ è¾“å‡ºçš„æ–¹æ³•ï¼Œè®©å®ƒåœ¨å„ç§æƒ…å¢ƒä¸‹éƒ½èƒ½ä¿æŒç›¸å…³æ€§ã€å‡†ç¡®æ€§å’Œå®ç”¨æ€§ã€‚\nAIÂ Agentï¼ˆä¸€èˆ¬ç§°Â AI ä»£ç†Â æˆ–Â AI æ™ºèƒ½ä½“ï¼‰\nAI èŠå¤©æœºå™¨äººä¸»è¦é â€œè¯´â€æ¥å›ç­”ä½ çš„é—®é¢˜ï¼Œè€Œ AIÂ Agent åˆ™ä¼š**â€œåŠ¨â€èµ·æ¥å®Œæˆå…·ä½“çš„ä»»åŠ¡**ï¼Œå°±åƒäººç±»åŠ©ç†ä¸€æ ·ï¼Œåœ¨ä½ å¿™ä¸è¿‡æ¥çš„æ—¶å€™æ›¿ä½ å®Œæˆä¸€äº›å·¥ä½œï¼ŒåŒºåˆ«å°±æ˜¯ç”¨ AI æ¥é©±åŠ¨è€Œä¸æ˜¯äººè„‘é©±åŠ¨ã€‚\nä»åŸç†ä¸Šè¯´ï¼ŒAIÂ Agent çš„æ ¸å¿ƒé©±åŠ¨åŠ›æ˜¯å¤§æ¨¡å‹ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ è§„åˆ’ï¼ˆPlanningï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰å’Œå·¥å…·ä½¿ç”¨ï¼ˆToolÂ Useï¼‰ä¸‰ä¸ªå…³é”®ç»„ä»¶ã€‚\nAIÂ AgentÂ =Â LLMï¼ˆå¤§æ¨¡å‹ï¼‰Â +Â Planningï¼ˆè§„åˆ’ï¼‰Â +Â Memoryï¼ˆè®°å¿†ï¼‰Â +Â Toolsï¼ˆå·¥å…·ï¼‰\nLLMï¼ˆå¤§æ¨¡å‹ï¼‰ï¼šå°±åƒå›­ä¸çš„æ™ºæ…§å’ŒçŸ¥è¯†åº“ï¼Œå®ƒé˜…è¯»äº†æµ·é‡çš„å›­è‰ºä¹¦ç±å’Œèµ„æ–™ï¼Œä¸ä»…çŸ¥é“å„ç§æ¤ç‰©çš„åå­—ï¼Œè¿˜æ‡‚å¾—å¦‚ä½•ç…§é¡¾å®ƒä»¬ã€‚åœ¨ AIÂ Agent ä¸­ï¼ŒLLM æä¾›äº†åºå¤§çš„ä¿¡æ¯å­˜å‚¨å’Œå¤„ç†èƒ½åŠ›ï¼Œä»¥ç†è§£å’Œå“åº”æˆ‘ä»¬æå‡ºçš„å„ç§é—®é¢˜ã€‚\nPlanningï¼ˆè§„åˆ’ï¼‰ï¼šå›­ä¸éœ€è¦è§„åˆ’æ•´ä¸ªèŠ±å›­çš„å¸ƒå±€ã€‚AIÂ Agent çš„è§„åˆ’åŠŸèƒ½ï¼Œå°±åƒå›­ä¸åˆ¶å®šç§æ¤è®¡åˆ’ï¼Œå†³å®šå…ˆç§å“ªäº›èŠ±è‰ã€åç§å“ªäº›è”¬èœï¼Œæˆ–è€…å¦‚ä½•åˆ†æ­¥éª¤ä¿®å‰ªæ ‘å† ã€‚\nMemoryï¼ˆè®°å¿†ï¼‰ï¼šè¿™ç±»ä¼¼äºå›­ä¸çš„ç¬”è®°æœ¬ï¼Œè®°å½•äº†æ¯ä¸ªæ¤ç‰©çš„ç§æ¤æ—¶é—´ã€ç”Ÿé•¿æƒ…å†µå’Œå‰ä¸€æ¬¡æ–½è‚¥çš„æ—¶é—´ã€‚è®°å¿†æ¨¡å—è®© AIÂ Agent èƒ½è®°ä½ä»¥å¾€çš„ç»éªŒå’Œå·²ç»å®Œæˆçš„ä»»åŠ¡ï¼Œç¡®ä¿ä¸ä¼šé‡å¤é”™è¯¯ã€‚\nToolsï¼ˆå·¥å…·ï¼‰ï¼šå°±æ˜¯å›­ä¸çš„ç”¨å…·ï¼Œæ¯”å¦‚é“²å­ã€æ°´å£¶å’Œå‰ªåˆ€ã€‚AIÂ Agent çš„å·¥å…·æ¨¡å—ï¼ŒæŒ‡çš„æ˜¯å®ƒå¯ä»¥è¿ç”¨çš„å„ç§è½¯ä»¶å’Œç¨‹åºï¼Œå¸®åŠ©å®ƒæ‰§è¡Œå¤æ‚çš„ä»»åŠ¡ï¼Œå°±åƒå›­ä¸ç”¨å·¥å…·è¿›è¡Œå›­è‰ºæ´»åŠ¨ä¸€æ ·ã€‚\nWorkflowæ›´åƒæ˜¯ä¸€ç»„é¢„å®šçš„è§„åˆ™å’Œæ­¥éª¤çš„ç»„åˆï¼Œé€šè¿‡è¿™äº›æ­¥éª¤çš„é¡ºåºæ‰§è¡Œï¼Œæ¥å®ç°ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡ã€‚Workflow çš„æ¯ä¸€æ­¥å¯èƒ½æ¶‰åŠå¤šä¸ª Agent æ¥å®Œæˆç‰¹å®šçš„å­ä»»åŠ¡ã€‚\nAgent å’Œ Workflow æ˜¯ç›¸è¾…ç›¸æˆçš„å…³ç³»ã€‚åœ¨ä¸€ä¸ªå¤æ‚çš„ Workflow ä¸­ï¼Œå¯èƒ½éœ€è¦å¤šä¸ª Agentæ¥å®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„å®¢æˆ·æœåŠ¡ç³»ç»Ÿä¸­ï¼Œå¯èƒ½æœ‰ä¸€ä¸ª Agent è´Ÿè´£ä¸ç”¨æˆ·äº’åŠ¨ã€å¦ä¸€ä¸ª Agent è´Ÿè´£åå°æ•°æ®å¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ª Agent è´Ÿè´£å†³ç­–åˆ¶å®šã€‚Workflow åˆ™è´Ÿè´£åè°ƒè¿™äº› Agentï¼Œä½¿å¾—æ•´ä¸ªä»»åŠ¡å¯ä»¥æµç•…åœ°æ‰§è¡Œã€‚å› æ­¤ï¼ŒWorkflow å¯ä»¥è¢«çœ‹ä½œæ˜¯ Agent æ“ä½œçš„æ¡†æ¶ï¼Œå®ƒè§„å®šäº†æ¯ä¸ª Agent çš„è§’è‰²ã€ä»»åŠ¡é¡ºåºä»¥åŠå¦‚ä½•åœ¨ä¸åŒä»»åŠ¡ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚\nRAGã€Agentã€WorkflowÂ æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»\nRAGï¼ˆRetrieval-AugmentedÂ Generationï¼‰æ˜¯è¿‘å¹´æ¥æµè¡Œçš„ä¸€ç§ç»“åˆä¿¡æ¯æ£€ç´¢å’Œç”Ÿæˆçš„ AI æ¨¡å‹ï¼Œå®ƒé€šè¿‡å…ˆæ£€ç´¢ç›¸å…³ä¿¡æ¯å†è¿›è¡Œæ–‡æœ¬ç”Ÿæˆæ¥æä¾›æ›´å‡†ç¡®çš„ç­”æ¡ˆã€‚ä¸ Agent å’Œ Workflow ä¸åŒï¼ŒRAG ä¸“æ³¨äºå•ä¸€ä»»åŠ¡çš„ä¼˜åŒ–ï¼Œå³é€šè¿‡å¢å¼ºç”Ÿæˆæ¨¡å‹çš„è¾“å…¥è´¨é‡æ¥æé«˜è¾“å‡ºçš„å‡†ç¡®æ€§ã€‚Agent å’Œ Workflow åˆ™æ›´å…³æ³¨äºä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹å’Œå¤šä»»åŠ¡åä½œã€‚ç®€è€Œè¨€ä¹‹ï¼ŒRAG æ˜¯åœ¨å•ä¸ªä»»åŠ¡ï¼ˆå¦‚é—®ç­”ç”Ÿæˆï¼‰ä¸­æé«˜è¡¨ç°çš„æŠ€æœ¯ï¼Œè€Œ Agent å’Œ Workflow åˆ™æ˜¯åœ¨å¤šä»»åŠ¡åœºæ™¯ä¸‹å®ç°ä»»åŠ¡çš„é«˜æ•ˆæ‰§è¡Œä¸åä½œçš„æ¡†æ¶ã€‚\nåº”ç”¨ AIÂ äº§å“æ¡ˆä¾‹ä¸¥é€‰\nChatDevÂ æ˜¯ä¸€å®¶è™šæ‹Ÿè½¯ä»¶å…¬å¸ï¼Œé€šè¿‡å„ç§ä¸åŒè§’è‰²çš„æ™ºèƒ½ä½“è¿è¥ï¼ŒåŒ…æ‹¬æ‰§è¡Œå®˜ï¼Œäº§å“å®˜ï¼ŒæŠ€æœ¯å®˜ï¼Œç¨‹åºå‘˜Â ï¼Œå®¡æŸ¥å‘˜ï¼Œæµ‹è¯•å‘˜ï¼Œè®¾è®¡å¸ˆÂ ç­‰ã€‚è¿™äº›æ™ºèƒ½ä½“å½¢æˆäº†ä¸€ä¸ªå¤šæ™ºèƒ½ä½“ç»„ç»‡ç»“æ„ï¼Œå…¶ä½¿å‘½æ˜¯â€œé€šè¿‡ç¼–ç¨‹æ”¹å˜æ•°å­—ä¸–ç•Œâ€ã€‚ChatDev å†…çš„æ™ºèƒ½ä½“é€šè¿‡å‚åŠ ä¸“ä¸šçš„åŠŸèƒ½ç ”è®¨ä¼šæ¥Â åä½œï¼ŒåŒ…æ‹¬è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•å’Œæ–‡æ¡£ç¼–å†™ç­‰ä»»åŠ¡ã€‚\nCozeÂ æ˜¯æ–°ä¸€ä»£ä¸€ç«™å¼Â AIÂ BotÂ å¼€å‘å¹³å°ã€‚æ— è®ºä½ æ˜¯å¦æœ‰ç¼–ç¨‹åŸºç¡€ï¼Œéƒ½å¯ä»¥åœ¨Â CozeÂ å¹³å°ä¸Šå¿«é€Ÿæ­å»ºåŸºäºÂ AIÂ æ¨¡å‹çš„å„ç±»é—®ç­”Â Botï¼Œä»è§£å†³ç®€å•çš„é—®ç­”åˆ°å¤„ç†å¤æ‚é€»è¾‘çš„å¯¹è¯ã€‚å¹¶ä¸”ï¼Œä½ å¯ä»¥å°†æ­å»ºçš„Â BotÂ å‘å¸ƒåˆ°å„ç±»ç¤¾äº¤å¹³å°å’Œé€šè®¯è½¯ä»¶ä¸Šï¼Œä¸è¿™äº›å¹³å°/è½¯ä»¶ä¸Šçš„ç”¨æˆ·äº’åŠ¨ã€‚\nDifyÂ æ˜¯ä¸€æ¬¾å¼€æºçš„å¤§è¯­è¨€æ¨¡å‹ (LLM)Â åº”ç”¨å¼€å‘å¹³å°ã€‚å®ƒèåˆäº†åç«¯å³æœåŠ¡ï¼ˆBackendÂ asÂ Serviceï¼‰å’ŒÂ LLMOpsÂ çš„ç†å¿µï¼Œä½¿å¼€å‘è€…å¯ä»¥å¿«é€Ÿæ­å»ºç”Ÿäº§çº§çš„ç”Ÿæˆå¼Â AIÂ åº”ç”¨ã€‚å³ä½¿ä½ æ˜¯éæŠ€æœ¯äººå‘˜ï¼Œä¹Ÿèƒ½å‚ä¸åˆ°Â AIÂ åº”ç”¨çš„å®šä¹‰å’Œæ•°æ®è¿è¥è¿‡ç¨‹ä¸­ã€‚\nå‚è€ƒèµ„æ–™ å¤§æ¨¡å‹å¹»è§‰\nAIÂ Agent æ¥äº†ï¼Œä½†å®ƒæ˜¯ä»€ä¹ˆï¼ŸÂ AI ä»£ç†ä»‹ç»ã€è¶‹åŠ¿å…¨è§£è¯»\nä»€ä¹ˆæ—¶å€™è¯¥ç”¨å¤šæ™ºèƒ½ä½“æ˜¯ä¸æ˜¯ä¸€å®šè¦ç”¨å¤šæ™ºèƒ½ä½“ï¼Ÿ\nä¸ºä»€ä¹ˆå¤§ä½¬éƒ½åœ¨è¯´ Agent æ˜¯æœªæ¥ï¼Ÿæ¢ä¸ªè§’åº¦æ¥è°ˆä¸€è°ˆ\nå´æ©è¾¾çº¢æ‰ç¾å›½ AI å³°ä¼šè°ˆ AgentÂ Workflow ä»¥åŠ 4 ç§ä¸»æµè®¾è®¡æ¨¡å¼_è…¾è®¯æ–°é—»\n","description":"","tags":["ai"],"title":"AIÂ Agent å’Œ workflow ä»‹ç»","uri":"/posts/ai-agent-workflow/"},{"categories":["ai","comfyUI","flux"],"content":"ä¸‹è½½ comfyUI 1 2 3 4 5 6 7 8 9 git clone https://github.com/comfyanonymous/ComfyUI.git # å¯åŠ¨ python è™šæ‹Ÿç¯å¢ƒ cd ComfyUI/ python3 -m vevn venv \u0026 source ./venv/bin/activate # å®‰è£…ä¾èµ– pip install -r requirements.txt å®‰è£… comfyUI-Manager 1 2 3 4 cd ComfyUI/custom_nodes/ git clone https://github.com/ltdrdata/ComfyUI-Manager.git cd ComfyUI/custom_nodes/ComfyUI-Manager pip install -r requirements.txt ä¸‹è½½æ¨¡å‹ 1 2 3 4 5 cd ComfyUI/models/checkpoints wget https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/flux1-dev-fp8.safetensors cd ComfyUI/models/vae wget https://huggingface.co/black-forest-labs/FLUX.1-schnell/resolve/main/ae.sft å¯åŠ¨ 1 python main.py --cpu --listen 0.0.0.0 æµè§ˆå™¨è®¿é—® http://localhost:8188\nè¾“å…¥é…ç½®ï¼Œç‚¹å‡» Queue Prompt å¼€å§‹æ‰§è¡Œï¼Œç­‰å¾… 30 åˆ†é’Ÿåç»ˆäºå¾—åˆ°ä¸€å¼ å›¾ï¼ˆè°èƒ½é€æˆ‘ä¸€ä¸ª H100ï¼Œæˆ‘æƒ³è¯•è¯• ğŸ˜Š ã€‚ã€‚ã€‚\nåŒæ ·çš„æç¤ºè¯ï¼Œsteps è®¾ç½®æˆ 20ï¼Œè·‘äº†ç¬¬äºŒéï¼š\nsoï¼Œè‡ªç”±å°±æ˜¯å¼ å¼€ç¿…è†€ï¼Œæ‹¥æŠ±é˜³å…‰ï¼Ÿ\n","description":"","tags":["ai","comfyUI","flux"],"title":"CPU æ¨¡å¼ä¸‹ comfyUI è¿è¡Œ flux","uri":"/posts/comfyui-flux-demo/"},{"categories":["Mac","windows"],"content":"ä½¿ç”¨ Mac çš„â€å¯åŠ¨è½¬æ¢åŠ©ç†â€œå®‰è£… windows åŒç³»ç»Ÿæ—¶ï¼Œèµ°åˆ°æœ€åä¸€æ­¥äº†ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š\nWindows æ— æ³•æ›´æ–°è®¡ç®—æœºçš„å¯åŠ¨é…ç½®ï¼Œå®‰è£…æ— æ³•ç»§ç»­ã€‚\næœç´¢äº†ä¸€åœˆï¼Œæœ‰è¯´éœ€è¦é‡ç½® SMC çš„ï¼Œæœ‰è¯´æ‰“ç”µè¯é—® Apple å®¢æœçš„ï¼Œè¿™ä¸¤ä¸ªæ–¹æ¡ˆéƒ½è¯•äº†ï¼Œæ— æ•ˆã€‚\nä¸€å¼€å§‹çš„é•œåƒæ˜¯ä» https://msdn.itellyou.cn/ ä¸Šéšä¾¿æ‰¾äº†ä¸ª win10 ä¸‹è½½çš„ï¼ŒçŒœæµ‹æ˜¯é€‰çš„é•œåƒç‰ˆæœ¬å¤ªè€ï¼Œæœ‰äº›é©±åŠ¨ä¸æ”¯æŒå¯¼è‡´çš„ï¼Œæ‰€ä»¥ç›´æ¥å»å¾®è½¯å®˜æ–¹ä¸‹è½½äº†æœ€æ–°çš„ win10 ç‰ˆæœ¬ï¼Œé—®é¢˜è§£å†³ã€‚ å¾®è½¯å®˜æ–¹ win10 ä¸‹è½½åœ°å€ï¼šhttps://www.microsoft.com/zh-cn/software-download/windows10ISO\n","description":"","tags":["mac","windows"],"title":"Mac å®‰è£… Windows åŒç³»ç»Ÿ","uri":"/posts/mac-win10/"},{"categories":["ai"],"content":"éƒ¨ç½² ollama ollama æ˜¯ä¸€ä¸ªè¿è¡Œå¤§æ¨¡å‹çš„æ¡†æ¶ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨ docker çš„æ–¹å¼å¯åŠ¨ ollama:\n1 docker run -d -v ./ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama å¯åŠ¨æˆåŠŸåï¼Œé€‰æ‹©æƒ³è¦çš„æ¨¡å‹ï¼Œè¿™é‡Œä»¥é˜¿é‡Œé€šä¹‰åƒé—®æœ€å°çš„æ¨¡å‹ (352M) ä¸ºä¾‹ï¼š\n1 docker exec -it ollama ollama run qwen2:0.5b è¿è¡Œèµ·æ¥åï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œè¿›è¡Œäº¤äº’ï¼Œè¾“å…¥/bye æˆ– ctrl + c é€€å‡ºã€‚\næ›´å¤šæ¨¡å‹å¯åœ¨è¿™é‡Œæ‰¾ï¼š https://ollama.com/library\néƒ¨ç½² Open WebUI æœ‰å¾ˆå¤šå¼€æºçš„ UI åº“å…è®¸ä½ ä»æµè§ˆå™¨è®¿é—®æ¨¡å‹ï¼Œè¿™é‡Œä»¥ Open WebUI ä¸ºä¾‹ï¼Œæ›´å¤šå·¥å…·è¯·å‚è€ƒï¼šhttps://github.com/ollama/ollama/tree/main?tab=readme-ov-file#web--desktop\n1 2 # OLLAMA_BASE_URLæ›¿æ¢æˆä½ æœºå™¨çš„IPåœ°å€ï¼Œä¾‹å¦‚ï¼š OLLAMA_BASE_URL=http://192.168.1.110:11434 docker run -d -p 3000:8080 -e OLLAMA_BASE_URL=https://example.com -v ./open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main ç„¶åæµè§ˆå™¨è®¿é—® 3000 ç«¯å£å³å¯ï¼Œç”¨æˆ·åå¯†ç éšä¾¿æ³¨å†Œä¸€ä¸ªå³å¯ã€‚\né»˜è®¤æ˜¯æ— é™åˆ¶æ³¨å†Œçš„ï¼Œå¯ä»¥ç™»å½•ååœ¨è®¾ç½®é‡Œç¦ç”¨æ‰ã€‚\nç‚¹å‡»å³ä¸Šè§’å¤´åƒ --- ç®¡ç†å‘˜é¢æ¿ --- è®¾ç½®\nå…¶ä»– æµ‹è¯•ç¯å¢ƒä¸ºä¸€å°æ— æ˜¾å¡çš„ oracle æœåŠ¡å™¨ ( 4 æ ¸ 24G )ã€‚ è·‘å¤§å°ä¸º 8G çš„æ¨¡å‹ (llama3.1)ï¼Œå¹³å‡æ¯ç§’è¾“å‡º 4 ä¸ªå­—ç¬¦ï¼Œå‹‰å¼ºèƒ½ç”¨ï¼Œå†å¤§çš„å°±è·‘ä¸äº†äº†ã€‚\nå¦‚æœé€‰æ‹©ä¸ä½¿ç”¨ docker éƒ¨ç½² ollama, æƒ³ä¿®æ”¹ ollama çš„æ¨¡å‹å­˜å‚¨è·¯å¾„ä»¥åŠç›‘å¬åœ°å€çš„è¯ï¼Œéœ€è¦ä¿®æ”¹æ–‡ä»¶ /etc/systemd/system/ollama.service\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [Unit] Description=Ollama Service After=network-online.target [Service] # ä¿®æ”¹æ¨¡å‹å­˜å‚¨è·¯å¾„ï¼Œ é»˜è®¤ä¸º /usr/share/ollama/.ollama Environment=\"OLLAMA_MODELS=/data/ollama\" # ollamaç›‘å¬åœ°å€ï¼Œé»˜è®¤ä¸º 127.0.0.1 Environment=\"OLLAMA_HOST=0.0.0.0\" ExecStart=/usr/bin/ollama serve User=ollama Group=ollama Restart=always RestartSec=3 [Install] WantedBy=default.target ä¿®æ”¹å®Œä»¥åè®°å¾—æ‰§è¡Œï¼š\n1 2 systemctl daemon-reload systemctl enable ollama å‚è€ƒèµ„æ–™ï¼š\nhttps://hub.docker.com/r/ollama/ollama\nhttps://github.com/ollama/ollama\n","description":"","tags":["ai"],"title":"æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹","uri":"/posts/ollama-llama/"},{"categories":["linux"],"content":"æš‚åœå½“å‰çš„å‰å°è¿›ç¨‹ 1 ctrl + z æŸ¥çœ‹å½“å‰è¢«æš‚åœçš„ä½œä¸šåˆ—è¡¨ 1 jobs è¾“å‡ºçš„æ¯ä¸€ä¸ªä½œä¸šéƒ½æœ‰ä¸€ä¸ªåºå·ï¼Œå¯ä»¥è¢« bg å’Œ fg ä½¿ç”¨ã€‚\nå°†æš‚åœçš„è¿›ç¨‹æ”¾åˆ°åå°ç»§ç»­è¿è¡Œï¼ˆbgï¼‰ 1 bg é»˜è®¤æ˜¯å°†æœ€è¿‘ä¸€ä¸ªè¢«æš‚åœçš„è¿›ç¨‹æ¢å¤è¿è¡Œå¹¶æ”¾åˆ°åå°ã€‚\nå¯ä»¥åŠ ä½œä¸šåºå·ï¼ŒæŒ‡å®šæ“ä½œå“ªä¸ªä½œä¸šã€‚\nä¾‹å¦‚å°†åºå·ä¸º 2 çš„ä½œä¸šæ”¾åˆ°åå°ç»§ç»­æ‰§è¡Œï¼š\n1 bg %2 å°†æš‚åœçš„è¿›ç¨‹æ”¾åˆ°å‰å°ç»§ç»­è¿è¡Œï¼ˆfgï¼‰ ä½¿ç”¨æ–¹å¼å’Œ bg åŒç†ã€‚\n1 fg é»˜è®¤æ˜¯å°†æœ€è¿‘ä¸€ä¸ªè¢«æš‚åœçš„è¿›ç¨‹æ¢å¤è¿è¡Œå¹¶æ”¾åˆ°å‰å°ã€‚\nå¯ä»¥åŠ ä½œä¸šåºå·ï¼ŒæŒ‡å®šæ“ä½œå“ªä¸ªä½œä¸šã€‚\nä¾‹å¦‚å°†åºå·ä¸º 2 çš„ä½œä¸šæ”¾åˆ°å‰å°ç»§ç»­æ‰§è¡Œï¼š\n1 fg %2 disown çš„ä½¿ç”¨ é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‰ä¼šè¯ç»ˆç«¯åï¼Œæ‰€æœ‰çš„ä½œä¸šéƒ½ä¼šè¢«é‡Šæ”¾ã€‚\nå¯ä»¥ä½¿ç”¨ disown å‘½ä»¤å°†ä¸€ä¸ªè¿›ç¨‹ä»å½“å‰çš„ shell ä¼šè¯ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä½¿å…¶ä¸å†å—è¯¥ä¼šè¯çš„æ§åˆ¶ã€‚é¦–å…ˆå°†è¿›ç¨‹æ”¾åˆ°åå°ï¼Œç„¶åæ‰§è¡Œï¼š\n1 disown %1 %1 æ˜¯ä½œä¸šå·ï¼Œå¯ä»¥ç”¨ jobs å‘½ä»¤æŸ¥çœ‹å¹¶ç¡®è®¤ä½œä¸šå·ã€‚\nç›´æ¥åœ¨å¯åŠ¨æ—¶å°†å‘½ä»¤æ”¾åœ¨åå°è¿è¡Œï¼ˆnohupï¼‰ 1 nohup some_cmd \u0026 ","description":"","tags":["linux"],"title":"Linux ä½œä¸šæ§åˆ¶","uri":"/posts/linux-jobs/"},{"categories":["git"],"content":" ä»…é™åœ¨å¯æ§çŠ¶æ€ä¸‹ä½¿ç”¨ï¼Œå¦åˆ™ä¼šè¢«åˆ«äººæ‰“æ­»ã€‚\næ‰¹é‡ä¿®æ”¹ git ä»“åº“æäº¤äººä¿¡æ¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #!/bin/sh git filter-branch --env-filter ' an=\"$GIT_AUTHOR_NAME\" am=\"$GIT_AUTHOR_EMAIL\" cn=\"$GIT_COMMITTER_NAME\" cm=\"$GIT_COMMITTER_EMAIL\" if [ \"$GIT_COMMITTER_EMAIL\" = \"\u003cold_user\u003e@gmail.com\" ] then cn=\"\u003cnew_user\u003e\" cm=\"\u003cnew_user\u003e@gmail.com\" fi if [ \"$GIT_AUTHOR_EMAIL\" = \"\u003cold_user\u003e@outlook.com\" ] then an=\"\u003cnew_user\u003e\" am=\"\u003cnew_user\u003e@gmail.com\" fi export GIT_AUTHOR_NAME=\"$an\" export GIT_AUTHOR_EMAIL=\"$am\" export GIT_COMMITTER_NAME=\"$cn\" export GIT_COMMITTER_EMAIL=\"$cm\" ' ä¿®æ”¹å®Œä»¥å git push --forceã€‚\n","description":"","tags":["git"],"title":"æ‰¹é‡ä¿®æ”¹ git ä»“åº“æäº¤äººä¿¡æ¯","uri":"/posts/git-filter-branch/"},{"categories":["mac","tools"],"content":"Mac ä¸Šä½¿ç”¨è™šæ‹Ÿæœºå®‰è£…äº† Windowsï¼Œè‹¥æƒ³æ­£å¸¸ä½¿ç”¨cmd + cã€cmd + vç­‰å¿«æ·é”®ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚\nå®‰è£… AutoHotkeyï¼Œè¿™é‡Œé€‰æ‹©ä¸‹è½½ v1 ç‰ˆæœ¬ï¼Œå› ä¸ºä¸‹é¢çš„è„šæœ¬åªæ”¯æŒ v1ã€‚\nä» GitHub ä¸Šä¸‹è½½ä¸€ä¸ªè„šæœ¬https://github.com/stroebjo/autohotkey-windows-mac-keyboardã€‚\næŠŠé‡Œé¢çš„MacKeyboard.ahkè¿™ä¸ªæ–‡ä»¶ä¸‹è½½ä¸‹æ¥ã€‚\nç”¨ç¼–è¾‘å™¨æ‰“å¼€MacKeyboard.ahkæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢å®é™…ä¸Šæ˜¯åšäº†ä¸€äº›æ˜ å°„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 ;----------------------------------------- ; Mac keyboard to Windows Key Mappings ;========================================= ; -------------------------------------------------------------- ; NOTES ; -------------------------------------------------------------- ; ! = ALT ; ^ = CTRL ; + = SHIFT ; # = WIN ; ; Debug action snippet: MsgBox You pressed Control-A while Notepad is active. #InstallKeybdHook #SingleInstance force SetTitleMatchMode 2 SendMode Input ; -------------------------------------------------------------- ; Mac-like screenshots in Windows (requires Windows 10 Snip \u0026 Sketch) ; -------------------------------------------------------------- ; Capture entire screen with CMD/WIN + SHIFT + 3 #+3::send #{PrintScreen} ; Capture portion of the screen with CMD/WIN + SHIFT + 4 #+4::#+s ; -------------------------------------------------------------- ; media/function keys all mapped to the right option key ; -------------------------------------------------------------- RAlt \u0026 F7::SendInput {Media_Prev} RAlt \u0026 F8::SendInput {Media_Play_Pause} RAlt \u0026 F9::SendInput {Media_Next} F10::SendInput {Volume_Mute} F11::SendInput {Volume_Down} F12::SendInput {Volume_Up} ; swap left command/windows key with left alt ;LWin::LAlt ;LAlt::LWin ; add a semicolon in front of this line if you want to disable the windows key ; Remap Windows + Left OR Right to enable previous or next web page ; Use only if swapping left command/windows key with left alt ;Lwin \u0026 Left::Send, !{Left} ;Lwin \u0026 Right::Send, !{Right} ; Eject Key ;F20::SendInput {Insert} ; F20 doesn't show up on AHK anymore, see #3 ; F13-15, standard windows mapping F13::SendInput {PrintScreen} F14::SendInput {ScrollLock} F15::SendInput {Pause} ;F16-19 custom app launchers, see http://www.autohotkey.com/docs/Tutorial.htm for usage info F16::Run http://twitter.com F17::Run http://tumblr.com F18::Run http://www.reddit.com F19::Run https://facebook.com ; -------------------------------------------------------------- ; OS X system shortcuts ; -------------------------------------------------------------- ; Make Ctrl + S work with cmd (windows) key #s::Send, ^s ; Selecting #a::Send, ^a ; Copying #c::Send, ^c ; Pasting #v::Send, ^v ; Cutting #x::Send, ^x ; Opening #o::Send ^o ; Finding #f::Send ^f ; Undo #z::Send ^z ; Redo #y::Send ^y ; New tab #t::Send ^t ; close tab #w::Send ^w ; Close windows (cmd + q to Alt + F4) #q::Send !{F4} ; Remap Windows + Tab to Alt + Tab. Lwin \u0026 Tab::AltTab ; minimize windows #m::WinMinimize,a ; -------------------------------------------------------------- ; OS X keyboard mappings for special chars ; -------------------------------------------------------------- ; Map Alt + L to @ !l::SendInput {@} ; Map Alt + N to \\ +!7::SendInput {\\} ; Map Alt + N to Â© !g::SendInput {Â©} ; Map Alt + o to Ã¸ !o::SendInput {Ã¸} ; Map Alt + 5 to [ !5::SendInput {[} ; Map Alt + 6 to ] !6::SendInput {]} ; Map Alt + E to â‚¬ !e::SendInput {â‚¬} ; Map Alt + - to â€“ !-::SendInput {â€“} ; Map Alt + 8 to { !8::SendInput {{} ; Map Alt + 9 to } !9::SendInput {}} ; Map Alt + - to Â± !+::SendInput {Â±} ; Map Alt + R to Â® !r::SendInput {Â®} ; Map Alt + N to | !7::SendInput {|} ; Map Alt + W to âˆ‘ !w::SendInput {âˆ‘} ; Map Alt + N to ~ !n::SendInput {~} ; Map Alt + 3 to # !3::SendInput {#} ; -------------------------------------------------------------- ; Custom mappings for special chars ; -------------------------------------------------------------- ;#Ã¶::SendInput {[} ;#Ã¤::SendInput {]} ;^Ã¶::SendInput {{} ;^Ã¤::SendInput {}} ; -------------------------------------------------------------- ; Application specific ; -------------------------------------------------------------- ; Google Chrome #IfWinActive, ahk_class Chrome_WidgetWin_1 ; Show Web Developer Tools with cmd + alt + i #!i::Send {F12} ; Show source code with cmd + alt + u #!u::Send ^u #IfWinActive ; å¼€å¤´çš„è¡¨ç¤ºæ³¨é‡Šã€‚\n+ è¡¨ç¤º SHIFT é”®\n# è¡¨ç¤º win é”®\n! è¡¨ç¤º ALT é”®\n^ è¡¨ç¤º CTRL é”®\næ‰€ä»¥ #1::Send ^1 è¡¨ç¤ºå°† win + 1 æˆ–è€… cmd + 1 å¿«æ·é”®æ˜ å°„æˆ ctrl + 1ã€‚\nè¿™é‡Œæˆ‘å¢åŠ äº†ä»¥ä¸‹å†…å®¹ï¼Œç”¨äºå¤šæ ‡ç­¾é¡µçª—å£ï¼ˆchromeã€æ–‡ä»¶æµè§ˆå™¨ç­‰ï¼‰ä¸­ä½¿ç”¨ cmd + æ•°å­—åˆ‡æ¢æ ‡ç­¾ã€‚\n1 2 3 4 5 6 7 8 9 10 ; select tab #1::Send ^1 #2::Send ^2 #3::Send ^3 #4::Send ^4 #5::Send ^5 #6::Send ^6 #7::Send ^7 #8::Send ^8 #9::Send ^9 è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¥‡æ€ªçš„é—®é¢˜ï¼Œå¦‚æœä¸Šé¢çš„ç¬¬ä¸€è¡Œ ; select tab æ¢æˆäº†ä¸­æ–‡æ³¨é‡Š ; é€‰æ‹©æ ‡ç­¾é¡µï¼Œä¸Šè¿°é…ç½®å°±ä¼šå¤±æ•ˆï¼Œé™¤éç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œä¸­é—´åŠ ä¸€ä¸ªç©ºè¡Œï¼ŒåŸå› ä¸æ˜ï¼Œä¿é™©èµ·è§ç”¨è‹±æ–‡å†™æ³¨é‡Šå†…å®¹å§ã€‚\nç„¶åï¼Œwindows é‡Œå¿«æ·é”® win + rï¼Œè¾“å…¥ shell:startupï¼Œå›è½¦åä¼šæ‰“å¼€å¼€æœºå¯åŠ¨æ–‡ä»¶å¤¹ã€‚\nå°†ä¸Šé¢çš„MacKeyboard.ahkæ–‡ä»¶æ‹–åˆ°æ‰“å¼€çš„æ–‡ä»¶å¤¹é‡Œï¼Œé‡å¯ç”µè„‘å³å¯ã€‚\n","description":"","tags":["mac","tools"],"title":"è™šæ‹Ÿæœºä¸­ä½¿ç”¨ Mac å¿«æ·é”®","uri":"/posts/mac-windows-autohotkey/"},{"categories":["mac","python"],"content":"å¦‚æœç›´æ¥æ‰§è¡Œpip install mysqlclientï¼Œä¼šæŠ¥é”™ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ï¼š\n1 2 3 4 brew install mysql-client # å¿…é¡»åŠ è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œå¦åˆ™åé¢pipå®‰è£…è¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œå¯ä»¥å°†è¿™ä¸ªåŠ åˆ° ~/.bash_profile æˆ–è€… ï½/.zshrc ä¸­ export PKG_CONFIG_PATH=\"$(brew --prefix)/opt/mysql-client/lib/pkgconfig\" ç„¶åå†æ‰§è¡Œï¼š\n1 pip install mysqlclient ","description":"","tags":["mac","python"],"title":"Mac ä¸‹ä¸º Python å®‰è£… mysqlclinet","uri":"/posts/mac-python-mysqlclinet/"},{"categories":["linux"],"content":"Linux å‘½ä»¤è¡Œå¿«æ·é”®ï¼š\n1 2 3 4 5 6 7 8 9 ctrl + u æ¸…é™¤å½“å‰è¡Œ ctrl + w åˆ é™¤å½“å‰å…‰æ ‡çš„å•è¯ ctrl + f/b å‰è¿›åé€€ ctrl + p ä¸Šä¸€æ¡å‘½ä»¤ ctrl + a/e åˆ°è¡Œé¦–/è¡Œå°¾ Iterm2 å¿«æ·é”®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 command + å·¦å³æ–¹å‘é”® åˆ‡æ¢æ ‡ç­¾ command + option + æ–¹å‘é”® åˆ‡æ¢å±å¹• command + [ æˆ– command + ] åˆ‡æ¢å±å¹• command + ; æŸ¥çœ‹å†å²å‘½ä»¤ command + shift + h æŸ¥çœ‹å‰ªè´´æ¿å†å² command + opt + b å›çœ‹æ“ä½œå†å²ï¼Œå·¦å³é”®è°ƒæ•´æ—¶é—´æ¡ command + shift + i å¤šçª—å£åŒæ—¶è¾“å…¥æ¨¡å¼ï¼Œå†æ¬¡æŒ‰å¯ä»¥å–æ¶ˆè¯¥æ¨¡å¼ # å½“æ‰“å¼€å¾ˆå¤šçª—å£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªè¿›è¡Œæœç´¢ï¼ˆçª—å£åã€çª—å£ä¸­çš„å‘½ä»¤ã€ç”¨æˆ·åç­‰ï¼‰ï¼›ä¹Ÿå¯ä»¥è¿›è¡Œä¼šè¯é…ç½®ç­‰æ“ä½œã€‚ command + shift + o å¿«é€Ÿæ‰“å¼€ å›çœ‹å†å²é»˜è®¤å­˜å‚¨å¤§å°è®¾ç½®ï¼š å¦‚æœä¸å°å¿ƒå…³é—­äº†çª—å£ï¼Œå¯ä»¥ä½¿ç”¨cmd + zæ¢å¤ï¼Œè¶…æ—¶æ—¶é—´è®¾ç½®ä½ç½®ï¼š ","description":"","tags":["linux","mac","iterm2"],"title":"Linux \u0026 iterm2 å¸¸ç”¨å¿«æ·é”®","uri":"/posts/linux-shortkeys/"},{"categories":["mac"],"content":"èƒŒæ™¯ å‡ºäºä¿¡ä»»é—®é¢˜ï¼Œæ‰‹æœºä¸Šåˆ‡æ¢æˆ iPhone è‡ªå¸¦è¾“å…¥æ³•å¥½å¤šå¹´äº†ï¼Œæ— å¥ˆå› ä¸ºä½¿ç”¨ä¹ æƒ¯é—®é¢˜ Mac ä¸Šä¸€ç›´ç”¨çš„æœç‹—è¾“å…¥æ³•ï¼ˆå®é™…ä¸Šåªæ˜¯è‡ªå¸¦è¾“å…¥æ³•æ— æ³•å®ç° shift åˆ‡æ¢ä¸­è‹±æ–‡çš„å°é—®é¢˜ï¼‰ã€‚ä»Šå¤©ç»ˆäºç ”ç©¶äº†ä¸‹ï¼Œå®Œç¾è§£å†³ã€‚\nMac åŸç”Ÿçš„ä¸­è‹±æ–‡åˆ‡æ¢æ˜¯ Caps Lock é”®ã€‚\nä½† Caps Lock é™¤äº†ä½¿ç”¨ä¸ä¹ æƒ¯å¤–ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå³ä½¿ä¹ æƒ¯äº†ä¹Ÿä¸èƒ½è§£å†³ä¸‹é¢è¿™ä¸ªæƒ…å†µï¼š\næˆ‘æœŸæœ›åœ¨æŒ‰å®Œ shift åï¼Œèƒ½æŠŠ golang è¿™ä¸ªå­—ç¬¦å‡ºç°åœ¨æœç´¢æ¡†é‡Œï¼Œä¸€èˆ¬çš„è¾“å…¥æ³•éƒ½æ˜¯è¿™ä¸ªé€»è¾‘ï¼Œä½† Mac ä¸è¡Œã€‚ è§£å†³æ–¹æ¡ˆ ä½¿ç”¨çŸ¥åæ”¹é”®ç¥å™¨ï¼šKarabiner-Elements\næ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼Œæ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼š è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 { \"description\": \"Use left_shift to switch input sources\", \"manipulators\": [ { \"conditions\": [ { \"bundle_identifiers\": [ \"^com\\\\.teamviewer\\\\.TeamViewer$\", \"^com\\\\.vmware\\\\.horizon$\", \"^com\\\\.vmware\\\\.fusion$\", \"^com\\\\.vmware\\\\.view$\", \"^com\\\\.parallels\\\\.desktop$\", \"^com\\\\.parallels\\\\.vm$\", \"^com\\\\.parallels\\\\.desktop\\\\.console$\", \"^org\\\\.virtualbox\\\\.app\\\\.VirtualBoxVM$\", \"^com\\\\.citrix\\\\.XenAppViewer$\", \"^com\\\\.vmware\\\\.proxyApp\\\\.\", \"^com\\\\.parallels\\\\.winapp\\\\.\" ], \"type\": \"frontmost_application_unless\" } ], \"from\": { \"key_code\": \"left_shift\", \"modifiers\": { \"optional\": [ \"caps_lock\" ] } }, \"parameters\": { \"basic.to_if_alone_timeout_milliseconds\": 200, \"basic.to_if_held_down_threshold_milliseconds\": 200 }, \"to\": [ { \"key_code\": \"left_shift\", \"lazy\": true } ], \"to_if_alone\": [ { \"key_code\": \"spacebar\", \"modifiers\": \"control\" } ], \"to_if_held_down\": [ { \"key_code\": \"left_shift\" } ], \"type\": \"basic\" } ] } ç„¶ååœ¨ä¸‹å›¾è®¾ç½®å¤„ï¼Œä½¿å…¶å¯¹è‡ªå¸¦é”®ç›˜ç”Ÿæ•ˆï¼š å—¯ã€‚ã€‚ã€‚èˆ’æœäº†ï½\nå‚è€ƒèµ„æ–™ https://idawnlight.com/2022/use-left-shift-to-switch-input-sources-on-macos/\n","description":"","tags":["mac","è¾“å…¥æ³•","æ”¹é”®","karabiner"],"title":"Mac åŸç”Ÿè¾“å…¥æ³•é…ç½®","uri":"/posts/mac-input-shift/"},{"categories":["vscode"],"content":"æˆ‘çš„ç»ˆç«¯ä½¿ç”¨çš„æ˜¯ zshï¼Œåœ¨ vscode é‡Œæ‰“å¼€æ—¶æ˜¾ç¤ºæœ‰ä¹±ç ã€‚\nè§£å†³åŠæ³•æ˜¯åœ¨ settings.json ä¸­åŠ å…¥ï¼š\n1 \"terminal.integrated.fontFamily\": \"MesloLGS NF\", ","description":"","tags":["vscode"],"title":"è§£å†³ vscode ç»ˆç«¯ä¹±ç ","uri":"/posts/vscode-terminal-settings/"},{"categories":["python"],"content":"å‰è¨€ ä½œä¸ºä¸€é—¨ä¼˜ç§€çš„è„šæœ¬è¯­è¨€ï¼ŒPython åœ¨è¯­æ³•å±‚é¢æä¾›äº†å¾ˆå¤šå¥½ç©åˆå®ç”¨çš„è¯­æ³•ï¼Œä¿—ç§°è¯­æ³•ç³–ï¼Œæ­£ç¡®çš„ä½¿ç”¨è¿™äº›æŠ€å·§èƒ½è®©ä»£ç çœ‹èµ·æ¥æ›´ä¼˜é›…ï¼Œæ›´ Pythonicï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªã€‚\nç®€åŒ– if ... else 1 2 3 4 5 6 7 8 9 10 11 #!/usr/bin/env python3 def main(): animals = ['cat','dog','bird','pig'] if \"dog\" in animals: print(\"dog åœ¨åˆ—è¡¨é‡Œ\") else: print(\"dog ä¸åœ¨åˆ—è¡¨é‡Œ\") if __name__ == '__main__': main() ä»¥ä¸Šä»£ç æ˜æ˜¾ä»£ç è¡Œæ•°æ¯”è¾ƒå¤šï¼Œå¯ä»¥ç®€åŒ–ä¸ºå¦‚ä¸‹å†™æ³•\n1 2 3 4 5 6 7 8 #!/usr/bin/env python3 def main(): animals = ['cat','dog','bird','pig'] print(\"dog åœ¨åˆ—è¡¨é‡Œ\") if \"dog\" in animals else print(\"dog ä¸åœ¨åˆ—è¡¨é‡Œ\") if __name__ == '__main__': main() for ... else å…ˆçœ‹ä¸€æ®µä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 #!/usr/bin/env python3 def main(): flag = False animals = ['cat','dog','bird','pig'] for o in animals: if o == \"dog\": flag = True break if flag == True: print(\"dog åœ¨åˆ—è¡¨é‡Œ\") if __name__ == '__main__': main() ä»£ç å¾ˆç®€å•ï¼Œéœ€è¦ä½¿ç”¨ for å¾ªç¯æ‰§è¡Œä¸€æ®µé€»è¾‘ï¼Œå¦‚æœå‘½ä¸­æŸä¸ªæ¡ä»¶ï¼Œåˆ™ä½¿ç”¨ä¸€ä¸ªå˜é‡ flag åšä¸‹æ ‡è®°ï¼Œå¹¶ä¸”ç»ˆæ­¢ for å¾ªç¯ï¼Œå¾ªç¯ç»“æŸä¹‹åï¼Œåˆ¤æ–­ flag æ˜¯å¦ç­‰äº True æ¥æ‰§è¡Œå¦ä¸€æ®µé€»è¾‘ã€‚è¿™ç§åœºæ™¯ï¼Œå€ŸåŠ©äº†ä¸€ä¸ªé¢å¤–çš„å˜é‡ï¼Œæ¯”è¾ƒå•°å—¦ï¼Œåœ¨ Python é‡Œæœ‰ä¸ªæ›´ä¼˜é›…çš„å†™æ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 #!/usr/bin/env python3 def main(): animals = ['cat','dog','bird','pig'] for o in animals: if o == \"dog\": break else: print(\"dog ä¸åœ¨åˆ—è¡¨é‡Œ\") if __name__ == '__main__': main() è¿™æ®µä»£ç çš„æ„æ€å°±æ˜¯ï¼Œfor å¾ªç¯æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°äº† break è¯­å¥ï¼Œåˆ™é€€å‡º for å¾ªç¯ä¹‹åï¼Œå°±ä¸å†æ‰§è¡Œ else éƒ¨åˆ†çš„ä»£ç ã€‚\nwith è¯­å¥ æ‰“å¼€æ–‡ä»¶ï¼Œéå†æ–‡ä»¶ï¼Œç„¶åå†å…³é—­æ–‡ä»¶å¥æŸ„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè¿™ä¹ˆå†™\n1 2 3 4 5 6 7 8 9 10 11 12 #!/usr/bin/env python3 def main(): f = open(\"a.txt\") try: for line in f: print(line) finally: f.close() if __name__ '__main__': main() ä¸Šè¿°å†™æ³•éœ€è¦è‡ªå·±å»è°ƒç”¨ close æ–¹æ³•ï¼Œä¿è¯å¥æŸ„è¢«æ­£å¸¸é‡Šæ”¾ã€‚ ä½¿ç”¨ python ä¸­çš„ with æ–¹æ³•ï¼Œå°±ä¸ç”¨æ˜¾ç¤ºçš„å»è°ƒç”¨ close äº†ï¼Œå¹¶ä¸”å³ä½¿ä¸­é—´å‡ºç°å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥ã€‚\n1 2 3 4 5 6 7 8 9 #!/usr/bin/env python3 def main(): with open(\"a.txt\") as f: for line in f: print(line) if __name__ '__main__': main() å®é™…ä¸Š with æ–¹æ³•å¹¶ä¸æ˜¯å¸®ä½ è°ƒç”¨äº† close æ–¹æ³•ï¼Œè€Œæ˜¯è°ƒç”¨äº† with è¿”å›å¯¹è±¡çš„__exit__()æ–¹æ³•ã€‚\ncontextlib.closing() å¦‚æœä¸€ä¸ªç±»å®ç°äº† close() æ–¹æ³•ï¼Œå°±å¯ä»¥å€ŸåŠ© with å’Œ contextlib.closing() å¸®ä½ è‡ªåŠ¨è°ƒç”¨ close å‡½æ•°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 #!/usr/bin/env python3 import contextlib class Request(object): def __init__(self): pass def do(self): print(\"do something\") def close(self): print(\"close\") def main(): with contextlib.closing(Request()) as r: r.do() if __name__ == '__main__': main() ","description":"","tags":["python"],"title":"Python è¯­æ³•ç³–","uri":"/posts/python-tips/"},{"categories":["mac"],"content":"å‰è¨€ è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œä½¿ç”¨äººæ•°æœ€å¤šçš„ä¸¤æ¬¾é xshell å’Œ SecureCRT è«å±ï¼Œä½†æ˜¯è¿™ä¸¤æ¬¾ä¸€ä¸ªä¸æ”¯æŒ Macï¼Œä¸€ä¸ªæ”¶è´¹ï¼Œç ´è§£ç‰ˆåˆä¸æ•¢è£…ã€‚\næ¯”è¾ƒç®€å•çš„æ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨iterm2ã€‚\nç›®å‰ç½‘ä¸Šä»‹ç»æœ€å¤šçš„æ˜¯ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°çš„è‡ªåŠ¨ç™»å½•ï¼š\nshellè„šæœ¬ + expect + iterm2è§¦å‘å™¨ shellè„šæœ¬ + sshpass è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¾å¾—å¾ˆè¹©è„šï¼Œè¿˜å¾—ç”¨ shell è„šæœ¬ã€‚ è€Œä¸”å¯†ç è¿˜æ˜æ–‡æš´éœ²åœ¨ shell è„šæœ¬é‡Œã€‚ å¯¹å¯†ç å’Œ shell ä¸æ•æ„Ÿçš„å°ä¼™ä¼´è‡ªå·±å»æœä¸‹æ€ä¹ˆå®ç°çš„å§ï¼Œæ­¤å¤„ä¸æ¨èã€‚\nè¿™é‡Œä»‹ç»çš„æ–¹å¼æ˜¯çº¯ä½¿ç”¨iterm2å®ç°ï¼Œå¯ä»¥åšåˆ°ä¸æš´éœ²æ˜æ–‡å¯†ç ï¼Œé…ç½®éå¸¸ç®€å•ï¼Œåƒä½¿ç”¨ xshell ä¸€æ ·ä¸æ»‘ã€‚\næ¼”ç¤º cmd + o æ‰“å¼€æœåŠ¡å™¨åˆ—è¡¨ï¼Œæ–¹å‘é”®é€‰æ‹©è¦ç™»å½•çš„æœºå™¨ï¼Œå›è½¦ï¼Œæç¤ºè¾“å…¥å¯†ç ï¼› option + cmd + fæ‰“å¼€å¯†ç ç®¡ç†å™¨ï¼Œæ–¹å‘é”®é€‰æ‹©å¯†ç ï¼Œå›è½¦ï¼Œå³å¯ç™»å½•ï¼›ï¼ˆè¿™ä¸€æ­¥é€šè¿‡é…ç½®è§¦å‘å™¨å…¶å®å¯ä»¥çœç•¥ï¼Œåé¢æœ‰ä»‹ç»ï¼‰ æ­¤æ—¶è‹¥é‡å¤æ­¥éª¤ 1ï¼Œå€ŸåŠ© ssh ä¼šè¯å¤åˆ¶å·²ä¸éœ€è¦è¾“å…¥å¯†ç ã€‚ é…ç½® æ·»åŠ æœåŠ¡å™¨ ç‚¹å‡»iterm2-Preferences-Profilesï¼ŒæŒ‰å›¾ç¤ºé…ç½®ä¸€ä¸ªæ–°çš„ profileã€‚\né…ç½®å¯†ç ç®¡ç†å™¨ ç‚¹å‡» iterm2-Window-Password Managerï¼ŒæŒ‰å›¾ç¤ºé…ç½®ä¸€ä¸ªå¯†ç ï¼Œé…ç½®å®Œåå¯æŒ‰ESCé”®å…³é—­è¯¥çª—å£ã€‚ é…ç½®è§¦å‘å™¨ æ‰¾åˆ°å¯¹åº”Profilesé‡Œé¢çš„Advancedé€‰é¡¹ï¼Œæ‰¾åˆ°Triggersï¼Œç‚¹å‡»Edit\né…ç½®æˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ ·å½“æ‰§è¡Œcmd + oæ—¶ï¼Œå°±åªéœ€è¦é€‰æ‹©æœºå™¨ï¼Œå›è½¦åï¼Œå°±èƒ½è‡ªåŠ¨å¼¹å‡ºå¯†ç äº†ï¼Œä¸å†éœ€è¦option + cmd + fè¿™ä¸ªæ“ä½œï¼š\nç¬¬ä¸€åˆ—è¡¨ç¤ºå½“ç»ˆç«¯å‡ºç°å“ªäº›å­—ç¬¦çš„æ—¶å€™è§¦å‘è¿™ä¸ªé…ç½®\nç¬¬äºŒåˆ—æ˜¯è§¦å‘åŠ¨ä½œï¼Œè¿™é‡Œé€‰æ‹©æ‰“å¼€å¯†ç ç®¡ç†å™¨\nç¬¬ä¸‰åˆ—æ˜¯å®šä½åˆ°å¯†ç ç®¡ç†å™¨é‡Œé¢çš„å“ªä¸ªå¯†ç é…ç½®\nåé¢ä¸¤åˆ—ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ã€‚ã€‚ã€‚éƒ½é€‰ä¸Šäº†\né…ç½® SSH ä¼šè¯å¤åˆ¶ã€ä¼šè¯ä¿æŒ ä½¿ç”¨è¿‡ SecureCRT å’Œ Xshell çš„åŒå­¦éƒ½çŸ¥é“æœ‰ä¸ª session copy çš„åŠŸèƒ½ï¼Œå…¶å® ssh æœ¬èº«å°±æ”¯æŒè¿™ä¸ªï¼Œåªéœ€åœ¨~/.ssh/configæ–‡ä»¶é‡Œæ·»åŠ å‡ è¡Œé…ç½®å³å¯ã€‚\n1 2 3 4 5 6 7 8 # ä¼šè¯å¤åˆ¶ç›¸å…³é…ç½® Host * ControlMaster auto ControlPath ~/.ssh/%r@%h:%p.socket ControlPersist yes ServerAliveInterval 10 # æ¯éš”10så‘ä¸€æ¬¡å¿ƒè·³ ServerAliveCountMax 3 # ä¸‰æ¬¡å¿ƒè·³æ²¡å“åº”åˆ™å…³é—­è¿æ¥ å…¶ä»– ","description":"","tags":["iterm2","mac","ssh"],"title":"Mac ä¸‹ä½¿ç”¨ iterm2 é…ç½® ssh","uri":"/posts/mac-iterm2-ssh/"},{"categories":["blog"],"content":"å‰è¨€ ä»‹ç»å¦‚ä½•åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ„å»ºçš„é™æ€ç½‘ç«™ï¼Œå¹¶ä¸”å°†åšå®¢æºæ–‡ä»¶ (markdownã€ä¸»é¢˜é…ç½®ç­‰) ä¸ public é™æ€ç›®æ ‡æ–‡ä»¶åˆ†å¼€å­˜æ”¾ã€‚\nHugo hugo æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæ ‡å‡†ç‰ˆå’Œæ‰©å±•ç‰ˆï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨æ‰©å±•ç‰ˆï¼Œä»¥ä¾¿æ›´å¥½çš„å…¼å®¹å¤§å¤šæ•°ä¸»é¢˜ã€‚\n1 CGO_ENABLED=1 go install -tags extended github.com/gohugoio/hugo@latest åŸºæœ¬ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åˆå§‹åŒ–ä¸€ä¸ªhugoé¡¹ç›® $ hugo new site myblog \u0026\u0026 cd myblog # ä¸‹è½½ä¸»é¢˜ $ git init \u0026\u0026 git submodule add --depth 1 https://github.com/reuixiy/hugo-theme-meme.git themes/meme # ... å‚ç…§ https://github.com/reuixiy/hugo-theme-meme è¿›è¡Œé…ç½® # ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶(publicæ–‡ä»¶å¤¹) $ hugo æˆ–è€… # å¯åŠ¨ä¸€ä¸ªæœ¬åœ°çš„webæœåŠ¡ï¼Œå¯ç”¨æµè§ˆå™¨è®¿é—® http://localhost:1313 æŸ¥çœ‹æ•ˆæœ $ hugo server Github ä¸ºäº†èƒ½ä½¿ç”¨ github pagesï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå…¬å¼€ä»“åº“ï¼Œç”¨æ¥å­˜æ”¾ç¼–è¯‘å¥½çš„é™æ€æ–‡ä»¶ï¼Œä»“åº“åå¿…é¡»ä¸º\u003cusername\u003e.github.io ï¼Œusernameæ˜¯ä½ çš„githubè´¦æˆ·åï¼Œåé¢ä¼šé€šè¿‡github actionsè‡ªåŠ¨å°†ç§æœ‰ä»“åº“ç”Ÿæˆçš„ç½‘ç«™å†…å®¹æ¨é€åˆ°è¯¥ä»“åº“ï¼Œä½†åœ¨è‡ªåŠ¨åŒ–ä¹‹å‰ï¼Œéœ€è¦å…ˆæœ‰ä¸€ä¸ªå¯¹è¯¥ä»“åº“æœ‰è¯»å†™æƒé™çš„ tokenã€‚\nè®¿é—® https://github.com/settings/personal-access-tokens/new å°†åˆ›å»ºåå¾—åˆ°çš„ token ä¿å­˜å¤‡ç”¨ï¼Œå…·ä½“é…ç½®è§ä¸‹å›¾ï¼š\nå†åˆ›å»ºä¸€ä¸ªä»“åº“æ¥å­˜æ”¾åšå®¢æºæ–‡ä»¶ï¼Œä»“åº“åéšæ„ï¼Œæœ¬æ–‡ä¸­ç”¨myblogä»£æ›¿ï¼Œæ¨èé…ç½®æˆç§æœ‰ä»“åº“ã€‚\nè¿›å…¥åˆšåˆ›å»ºçš„myblogï¼Œä¾æ¬¡é€‰æ‹©settings - Secrets and variables - Actionsï¼Œç‚¹å‡»New repository secretï¼Œå°†åˆšæ‰åˆ›å»ºçš„ token é…ç½®ç»™å˜é‡PERSONAL_TOKENã€‚\nåœ¨myblogé‡Œæ–°å»ºæ–‡ä»¶.github/workflows/hugo.yml\nç¤ºä¾‹ä¸­çš„é…ç½®åªéœ€è¦æ”¹ä¸¤è¡Œï¼ˆ33ã€37 è¡Œï¼‰\n33 è¡Œéœ€è¦æ”¹æˆä½ è‡ªå·±çš„ä»“åº“\nå¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåçš„è¯ï¼Œåœ¨é…ç½®å¥½åŸŸåçš„ cname åï¼Œå¯ä»¥é…ç½®ç¬¬ 37 è¡Œï¼Œå¦åˆ™åˆ æ‰ç¬¬ 37 è¡Œã€‚\nhugo.ymlå†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 name: deploy on: push: workflow_dispatch: # schedule: # Runs everyday at 8:00 AM # - cron: \"0 0 * * *\" jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \"latest\" extended: true - name: Build Web run: hugo - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }} EXTERNAL_REPOSITORY: \u003cusername\u003e/\u003cusername\u003e.github.io PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} cname: www.YOUR_DOMAIN.com åœ¨myblogé‡Œæ–°å»ºæ–‡ä»¶.gitignoreå†…å®¹å¦‚ä¸‹ï¼š\n1 2 public/* resources/* åœ¨myblogé‡Œé…ç½®å¥½ hugoï¼Œgit pushåå°±å¯ä»¥è‡ªåŠ¨è§¦å‘ä¸Šé¢çš„ workflowï¼Œç­‰åˆ° \u003cusername\u003e.github.ioä¸­å‡ºç° hugo ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œç­‰å¾…ä¸€ä¼šï¼Œå°±å¯ä»¥é€šè¿‡\u003cusername\u003e.github.ioæˆ–è€…ä½ è‡ªå·±çš„åŸŸåè®¿é—®ä½ çš„ç½‘ç«™äº†ã€‚\næ›´å¤š å…³äºæ€ä¹ˆé…ç½® cnameï¼Œå‚è€ƒ è¿™é‡Œã€‚\n","description":"","tags":["blog","github","hugo"],"title":"ä½¿ç”¨ hugo+github éƒ¨ç½²é™æ€åšå®¢","uri":"/posts/hugo-github-pages/"},{"categories":["severless"],"content":"å‚è€ƒèµ„æ–™ï¼š\nä»€ä¹ˆæ˜¯ serverlessï¼šhhttps://jimmysong.io/kubernetes-handbook/usecases/understanding-serverless.html\nserverless å…·ä½“æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼šhhttps://www.cnblogs.com/serverlesscloud/p/13141645.html\nserverless å¼€å‘æŒ‡å—ï¼šhhttps://cn.serverless.com/blog/sls-dev-suggest-1\nå…³é”®å­—ï¼š æ— çŠ¶æ€ ã€å‡½æ•°è®¡ç®— ã€ æè‡´å¾®æœåŠ¡ã€å†·å¯åŠ¨ ã€çƒ­å¯åŠ¨\n","description":"","tags":["severless"],"title":"serverless åŸºç¡€","uri":"/posts/serverless%E5%9F%BA%E7%A1%80/"},{"categories":["linux"],"content":"å¦‚æœæœåŠ¡å™¨ç«¯ ssh çœ‹èµ·æ¥ä¸€åˆ‡æ­£å¸¸ï¼Œ22 ç«¯å£ä¹Ÿæ­£å¸¸ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ ssh è¿æ¥ä¸ä¸Šï¼Œé€šå¸¸æŠ¥é”™ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š\n1 2 $ ssh fast@10.1.8.16 Connection closed by 10.1.8.16 port 22 è¿™ç§æƒ…å†µå¯é€šè¿‡é‡ç½®æœåŠ¡ç«¯ ssh è¯ä¹¦è§£å†³ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 # Delete old ssh host keys $ rm /etc/ssh/ssh*host*\\* # Reconfigure OpenSSH Server $ dpkg-reconfigure openssh-server # Update all ssh client(s) ~/.ssh/known_hosts files å‚è€ƒèµ„æ–™ï¼šhhttps://serverfault.com/questions/471327/how-to-change-a-ssh-host-key\n","description":"","tags":["linux"],"title":"reset-ssh-key","uri":"/posts/reset-ssh-key/"},{"categories":["vim"],"content":"å…‰æ ‡æ”¾åœ¨æ•°å­—ä¸Šï¼š\nctrl + a æ•°å­—åŠ  1 ctrl + x æ•°å­—å‡ 1 å°†æŸä¸€åˆ—æ•°å­—é€’å¢çš„åŠ  1ï¼š é€‰ä¸­è¯¥åˆ—ï¼ŒæŒ‰gï¼Œå†æŒ‰ctrl + a\n1 2 3 4 5 1 1 1 1 1 å°†å˜æˆ\n1 2 3 4 5 2 3 4 5 6 ","description":"","tags":["vim"],"title":"vim ä¸­æ•°å­—å¢åŠ æˆ–å‡å°‘","uri":"/posts/vim%E4%B8%AD%E6%95%B0%E5%AD%97%E5%A2%9E%E5%8A%A0%E6%88%96%E5%87%8F%E5%B0%91/"},{"categories":["k8s"],"content":"å°† helm chart æ¨é€åˆ°æŒ‡å®šçš„ä»“åº“ä¸‹ï¼Œé»˜è®¤ä¼šæ¨é€åˆ°\"library\"ä¸‹çš„â€œhelm chartâ€œ\n1 2 3 4 5 6 7 8 9 $ helm repo add --ca-file ca.crt --username=admin myrepo https://\u003charbor-domain\u003e/chartrepo/artifacts $ helm repo list NAME URL myrepo https://harbor.local.com/chartrepo/artifacts $ helm plugin install https://github.com/chartmuseum/helm-push $ helm cm-push --ca-file ca.crt airflow-8.8.0.tgz myrepo æ•ˆæœï¼š ","description":"","tags":["k8s"],"title":"å°† helm chart æ¨é€åˆ° harbor","uri":"/posts/helm-chart-to-harbor/"},{"categories":["k8s"],"content":"ç¯å¢ƒåˆå§‹åŒ– å‚è€ƒæ–‡æ¡£ k3s ç¦»çº¿éƒ¨ç½²ï¼šhttps://docs.k3s.io/zh/installation/airgap\nkube-vipï¼šhttps://kube-vip.io/docs/usage/k3s/\néƒ¨ç½²ç¯å¢ƒ 1 2 3 4 5 6 7 8 9 10 11 # éœ€è¦ä½¿ç”¨hostnamectl set-hostname xxxå¯¹æ‰€æœ‰æœºå™¨ä¿®æ”¹ä¸»æœºå # 3å°server 172.16.99.11 server01 172.16.99.12 server02 172.16.99.13 server03 # 3å°agent 172.16.99.14 agent01 172.16.99.15 agent02 172.16.99.16 agent03 å‡†å¤‡ä¸€ä¸ªå’Œ server åŒç½‘æ®µä¸”ç©ºé—²çš„è™šæ‹Ÿ IP ç»™ kube-vipï¼Œæœ¬æ–‡æ¡£ä»¥ 172.16.99.100 ä¸ºä¾‹ã€‚\nkube-vip æ˜¯ä¸ºäº†èƒ½ç”¨ä¸€ä¸ªå›ºå®šçš„è™šæ‹Ÿ IP å……å½“è´Ÿè½½å‡è¡¡å™¨æ¥è®¿é—®é›†ç¾¤ï¼Œæé«˜é›†ç¾¤çš„å¯ç”¨æ€§\nè¿™ä¸ªè™šæ‹Ÿ IP åœ¨åˆå§‹åŒ– server å’Œ agent çš„æ—¶å€™éƒ½è¦ç”¨ï¼Œä¼šæ·»åŠ åˆ°ä¸‰å° server çš„ lo æ¥å£\næœ€ç»ˆå®‰è£…å®Œåçš„æ•ˆæœ å¼€å§‹å®‰è£… å®‰è£…åˆå§‹åŒ– ä¸€ã€å‡†å¤‡ç¦»çº¿æ–‡ä»¶\nä»https://github.com/k3s-io/k3s/releasesä¸‹è½½ k3s é•œåƒåŒ…å’Œ k3s äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\nç‰ˆæœ¬æ— æ‰€è°“ï¼Œé€‰æœ€æ–°çš„å°±è¡Œï¼Œæ¨èé€‰æ‹© .tar.zst çš„ (å‹ç¼©ç‡é«˜)ã€‚\näºŒã€åˆå§‹åŒ–æ‰€æœ‰çš„ agent å’Œ server\nå°†ä¸‹è½½çš„ k3sÂ äºŒè¿›åˆ¶æ–‡ä»¶æ”¾åˆ°/usr/local/binï¼Œå¹¶ä¸”åŠ å¯æ‰§è¡Œæƒé™ chmodÂ +xÂ /usr/local/bin/k3s\nåˆ›å»ºç›®å½•/var/lib/rancher/k3s/agent/images/ï¼Œå¹¶å°†ä¸‹è½½çš„é•œåƒæ–‡ä»¶æ”¾è¿›å»ï¼ˆä¸éœ€è¦è§£å‹ï¼‰\nå°†å®‰è£…è„šæœ¬ä¸‹è½½ä¸‹æ¥ï¼Œå‘½ä»¤ curl -sfL https://get.k3s.io -o install.sh\nä¸‰ã€å‡†å¤‡ kube-vip é•œåƒ\nåœ¨æœ¬åœ°ä¸‹è½½ kube-vip é•œåƒï¼Œå¹¶ä¼ è¾“åˆ°æ‰€æœ‰çš„ server æœºå™¨ä¸Šã€‚\n1 2 3 4 5 6 7 $ docker pull ghcr.io/kube-vip/kube-vip:v0.5.0 $ docker save ghcr.io/kube-vip/kube-vip:v0.5.0 -o kube-vip.tar $ scp kube-vip.tar root@172.16.99.11:~ $ scp kube-vip.tar root@172.16.99.12:~ $ scp kube-vip.tar root@172.16.99.13:~ åˆå§‹åŒ– server01 æ³¨æ„ä¿®æ”¹å¯¹åº”çš„ IP åœ°å€\n1 INSTALL_K3S_SKIP_DOWNLOAD=true ./install.sh server --cluster-init --tls-san=172.16.99.100 åœ¨ server01 ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è·å– tokenï¼Œåç»­å®‰è£…éœ€è¦ç”¨åˆ°ã€‚\n1 cat /var/lib/rancher/k3s/server/token æ¥ä¸‹æ¥ç”±äºåé¢çš„ server å’Œ agent éƒ½éœ€è¦ç”¨åˆ°è™šæ‹Ÿ IP æ¥è¿›è¡Œæ³¨å†Œï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… kube-vipã€‚\nå®‰è£… kube-vip å‚è€ƒæ–‡æ¡£ï¼šhttps://kube-vip.io/docs/usage/k3s/\né¦–å…ˆï¼Œå¯¼å…¥ kube-vip é•œåƒã€‚ç”±äº k3s é»˜è®¤ä½¿ç”¨çš„ä¸æ˜¯ dockerï¼Œæ˜¯ containerdï¼Œæ‰€ä»¥å¯¼å…¥é•œåƒçš„æ–¹å¼å’Œ docker æœ‰ç‚¹åŒºåˆ«ï¼Œä½¿ç”¨ ctr å‘½ä»¤ã€‚\n-n k8s.io // k3s å’Œ k8s æŒ‡å®šäº†è¦ä½¿ç”¨ k8s.io è¿™ä¸ªå‘½åç©ºé—´\n--digests=true // å°†å¯¼å…¥çš„é•œåƒä¸­çš„ tag ä¿¡æ¯ä¸€èµ·å¯¼å…¥è¿›å»\n1 $ ctr -n k8s.io images import kube-vip.tar --digests=true åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼š\nkube-vip-rbac.yaml\nå‚è€ƒï¼šhttps://kube-vip.io/docs/usage/k3s/\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 apiVersion: v1 kind: ServiceAccount metadata: name: kube-vip namespace: kube-system --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: annotations: rbac.authorization.kubernetes.io/autoupdate: \"true\" name: system:kube-vip-role rules: - apiGroups: [\"\"] resources: [\"services/status\"] verbs: [\"update\"] - apiGroups: [\"\"] resources: [\"services\", \"endpoints\"] verbs: [\"list\",\"get\",\"watch\", \"update\"] - apiGroups: [\"\"] resources: [\"nodes\"] verbs: [\"list\",\"get\",\"watch\", \"update\", \"patch\"] - apiGroups: [\"coordination.k8s.io\"] resources: [\"leases\"] verbs: [\"list\", \"get\", \"watch\", \"update\", \"create\"] --- kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: system:kube-vip-binding roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: system:kube-vip-role subjects: - kind: ServiceAccount name: kube-vip namespace: kube-system kube-vip.yaml\nå‚è€ƒï¼šhttps://kube-vip.io/docs/installation/daemonset/#generating-a-manifest\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 apiVersion: apps/v1 kind: DaemonSet metadata: labels: app.kubernetes.io/name: kube-vip-ds app.kubernetes.io/version: v0.5.0 name: kube-vip-ds namespace: kube-system spec: selector: matchLabels: app.kubernetes.io/name: kube-vip-ds template: metadata: labels: app.kubernetes.io/name: kube-vip-ds app.kubernetes.io/version: v0.5.0 spec: affinity: nodeAffinity: requiredDuringSchedulingIgnoredDuringExecution: nodeSelectorTerms: - matchExpressions: - key: node-role.kubernetes.io/master operator: Exists - matchExpressions: - key: node-role.kubernetes.io/control-plane operator: Exists containers: - args: - manager env: - name: vip_arp value: \"false\" - name: port value: \"6443\" - name: vip_interface value: lo - name: vip_cidr value: \"32\" - name: cp_enable value: \"true\" - name: cp_namespace value: kube-system - name: vip_ddns value: \"false\" - name: svc_enable value: \"true\" - name: bgp_enable value: \"true\" - name: bgp_routerinterface value: \"ens18\" - name: bgp_routerid valueFrom: fieldRef: fieldPath: status.podIP - name: bgp_as value: \"65000\" - name: bgp_peeraddress - name: bgp_peerpass - name: bgp_peeras value: \"65000\" - name: bgp_peers value: 172.16.99.11:65000::false,172.16.99.12:65000::false,172.16.99.13:65000::false - name: address value: 172.16.99.100 - name: prometheus_server value: :2112 image: ghcr.io/kube-vip/kube-vip:v0.5.0 imagePullPolicy: IfNotPresent name: kube-vip resources: {} securityContext: capabilities: add: - NET_ADMIN - NET_RAW hostNetwork: true serviceAccountName: kube-vip tolerations: - effect: NoSchedule operator: Exists - effect: NoExecute operator: Exists updateStrategy: {} å…¶ä¸­åªéœ€è¦ä¿®æ”¹è¿™ä¸€éƒ¨åˆ†ï¼š å°†å…¶ä¸­ bgp_peers çš„ value ä¸­çš„ IP åœ°å€æ¢æˆä¸‰å° server çš„åœ°å€ã€‚ addressçš„value æ˜¯å‰é¢æåˆ°çš„å½“å‰ç½‘ç»œä¸­ä¸€ä¸ªæœªä½¿ç”¨çš„è™šæ‹Ÿ IP åœ°å€ã€‚\n1 2 3 4 - name: bgp_peers value: 172.16.99.11:65000::false,172.16.99.12:65000::false,172.16.99.13:65000::false - name: address value: 172.16.99.100 ä¿®æ”¹åï¼Œæ‰§è¡Œéƒ¨ç½²ï¼š\n1 2 kubectl apply -f kube-vip-rbac.yaml kubectl apply -f kube-vip.yaml è‡³æ­¤ï¼Œåé¢çš„æœºå™¨åˆå§‹åŒ–å°±éå¸¸ç®€å•äº†ã€‚\nåˆå§‹åŒ– server02 å’Œ server03 æ³¨æ„ä¿®æ”¹å¯¹åº”çš„ IP åœ°å€å’Œ token\n1 INSTALL_K3S_SKIP_DOWNLOAD=true ./install.sh server --cluster-init --tls-san=172.16.99.100 --server https://172.16.99.100:6443 --token {server01 ä¸Šè·å–çš„token} å¯¼å…¥ kube-vip é•œåƒ\n1 $ ctr -n k8s.io images import kube-vip.tar --digests=true åˆå§‹åŒ– agent æ³¨æ„ä¿®æ”¹å¯¹åº”çš„ IP åœ°å€å’Œ token\n1 INSTALL_K3S_SKIP_DOWNLOAD=true ./install.sh agent --server https://172.16.99.100:6443 --token {server01 ä¸Šè·å–çš„token} ","description":"","tags":["k8s","k3s","kube-vip"],"title":"ç¦»çº¿éƒ¨ç½² k3s é›†ç¾¤","uri":"/posts/%E7%A6%BB%E7%BA%BF%E9%83%A8%E7%BD%B2k3s%E9%9B%86%E7%BE%A4/"},{"categories":["linux"],"content":"awk awk æŒ‡å®šå¤šä¸ªåˆ†éš”ç¬¦ awk -F '[;:]'ï¼ˆä½¿ç”¨;æˆ–:è¿›è¡Œåˆ†å‰²ï¼‰\n1 2 è·å–æœ€åä¸€åˆ— awk '{print $NF}' find find . -type f -name \"*.png\" -exec ls -l {} \\;\n{} æ˜¯ä¸€ä¸ªæ›¿æ¢ç¬¦ï¼Œè¡¨ç¤ºå‰é¢æ‰¾åˆ°çš„å†…å®¹ \\; æ˜¯execçš„é»˜è®¤ç»“å°¾æ ‡è¯†ç¬¦\nfind /sys/devices/virtual/net -name iflink -exec grep -H -w 11 {} \\;\ngrep å¢åŠ -Hé€‰é¡¹åï¼Œå¯ä»¥æ˜¾ç¤ºæ–‡ä»¶å\nå¦‚æœç›®å½•ä¸‹æœ‰è½¯è¿æ¥çš„å¤–éƒ¨æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ find ä¸ä¼šæ˜¾ç¤ºè½¯è¿æ¥é‡Œçš„å†…å®¹ï¼Œå¦‚æœéœ€è¦å¯ä»¥åŠ ä¸Š-Lï¼Œä½†æ˜¯æ³¨æ„ï¼Œå¦‚æœè½¯è¿æ¥æœ‰å¾ªç¯ï¼Œåˆ™ä¼šä¸åœçš„è¾“å‡ºï¼Œæ…ç”¨ï¼Œæ¯”å¦‚ï¼š xargs # xargs -t # åœ¨æ‰§è¡Œå‰å…ˆæ‰“å°å¤„è¦æ‰§è¡Œçš„å‘½ä»¤ # xargs -I {} # è®¾ç½®ä¸€ä¸ªç¬¦å·{}è¡¨ç¤ºç®¡é“å‰é¢çš„æŸä¸€è¡Œè¾“å‡ºå†…å®¹ï¼Œä»¥ä¾¿åç»­å¤æ‚å‘½ä»¤è¿›è¡Œæ›¿æ¢ # xargs -P `nproc` # å¹¶å‘æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œå¦‚æœç½®0è¡¨ç¤ºè®©xargsä½¿ç”¨å°½å¯èƒ½å¤šçš„å¹¶å‘æ•°ï¼Œè¿™é‡Œ`nproc`æ˜¯cpuæ ¸æ•° docker ps -q | xargs -t -I {} docker exec {} sh -c \"find /sys -name iflink | xargs grep -w 14\" ç­‰ä»·äº # æœ€åçš„ grep -H è¡¨ç¤ºæŸ¥æ‰¾åˆ°å†…å®¹åæ˜¾ç¤ºå¯¹åº”çš„æ–‡ä»¶å docker ps -q | xargs -t -I {} docker exec {} sh -c \"find /sys -name iflink | xargs -I {} grep -w 14 {} -H\" grep æˆ–è¿ç®—ï¼š\n-E å‚æ•°åŠ ä¸Š|\nlsof -i | grep -E 'epc-ims:|IPv6'\nä¸è¿ç®—ï¼š\nå®é™…ä¸Šå°±æ˜¯æ­£åˆ™.+è¡¨ç¤ºä»»æ„ N ä¸ªå­—ç¬¦\nlsof -i | grep -E \"8323.+38911\"\nlsof lsof = list open file\n1 2 3 4 5 -i # æŸ¥çœ‹ç½‘ç»œ -c # æŸè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ -p # æŸè¿›ç¨‹å·æ‰“å¼€çš„æ–‡ä»¶ -r # é‡å¤æ‰§è¡Œæ—¶é—´é—´éš”ï¼Œå•ä½ç§’ -n # å°†å‡ºç°çš„ä¸»æœºåè½¬æ¢æˆIPæ˜¾ç¤º lsof -i tcp\nlsof -i udp\nlsof -n -i tcp\nlsof -c è¿›ç¨‹å\nlsof -p pid\nlsof -r 1 æ¯ç§’æ‰§è¡Œä¸€æ¬¡\ncurl è‡ªåŠ¨é‡å®šå‘ï¼š\n1 curl qq.com -L åªæ˜¾ç¤ºè¯·æ±‚å¤´ï¼š\n1 curl qq.com -I æ·»åŠ è¯·æ±‚å¤´ï¼š\n1 2 # è¯·æ±‚å¤´çš„åå­—æœ€å¥½éƒ½æŒ‰è§„èŒƒé¦–å­—æ¯å¤§å†™ curl 192.168.190.1 -H \"Host: a.b.c\" -H \"User-Agent: Chrome\" ","description":"","tags":["linux","å‘½ä»¤"],"title":"Linux å‘½ä»¤å¤‡å¿˜å½•","uri":"/posts/linux-cmd/"},{"categories":["linux"],"content":"\nhttps://tinychen.com/20200414-iptables-principle-introduction/\nhttps://blog.csdn.net/qq_29344757/article/details/81128150\n","description":"","tags":["linux","ç½‘ç»œ"],"title":"iptables","uri":"/posts/iptables/"},{"categories":["linux"],"content":"ä¸»è¦ä¾èµ–ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨å®¿ä¸»æœºå’Œå®¹å™¨å†…éƒ½æœ‰\n1 2 3 4 5 # æŸè™šæ‹Ÿè®¾å¤‡å¯¹åœ¨`å½“å‰`æœºå™¨ / å®¹å™¨çš„IDç¼–å· /sys/devices/virtual/net/***/ifindex # æŸè™šæ‹Ÿè®¾å¤‡å¯¹åœ¨`å¯¹æ–¹`æœºå™¨ / å®¹å™¨çš„IDç¼–å· /sys/devices/virtual/net/***/iflink ä»¥è™šæ‹Ÿè®¾å¤‡vethdedb37cä¸ºä¾‹ï¼š ip link show vethdedb37cæ˜¾ç¤ºå†…å®¹14: vethdedb37c@if13:...ï¼Œ14è¡¨ç¤ºå½“å‰æœºå™¨çš„è®¾å¤‡ IDï¼Œ@if13ä¸­çš„13æ˜¯å¯¹ç«¯çš„ IDã€‚\ndocker ps -q | xargs -t -I {} docker exec {} sh -c \"find /sys -name iflink | xargs grep -w 14\"\næŸ¥æ‰¾æ‰€æœ‰å®¹å™¨ï¼Œçœ‹è°çš„iflinkå€¼ä¸º14\nå®šä½åˆ°è™šæ‹Ÿè®¾å¤‡å¦ä¸€ç«¯åœ¨å®¹å™¨0a469babdbc9ã€‚\nä¹Ÿå¯ä»¥ç”¨ethtool -S vethdedb37cçœ‹åˆ°å¯¹ç«¯çš„ ID æ˜¯13 å‘½ä»¤è§£é‡Šï¼šxargs\n","description":"","tags":["linux","ç½‘ç»œ"],"title":"æŸ¥æ‰¾è™šæ‹Ÿè®¾å¤‡å¯¹å¯¹ç«¯ä½ç½®","uri":"/posts/%E6%9F%A5%E6%89%BE%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87%E5%AF%B9%E5%AF%B9%E7%AB%AF%E4%BD%8D%E7%BD%AE/"},{"categories":["linux"],"content":"\næ–‡ä»¶ç±»å‹ -- å±ä¸» -- å±ç»„ -- å…¶ä»–ç”¨æˆ·\nå¯è¯»ï¼ˆ4ï¼‰ å¯å†™ï¼ˆ2ï¼‰ å¯æ‰§è¡Œï¼ˆ1ï¼‰\n755 è¡¨ç¤ºåªæœ‰å±ä¸»æœ‰è¯»å†™æ‰§è¡Œæƒé™ï¼Œå…¶ä»–äººåªèƒ½è¯» (4) å’Œæ‰§è¡Œ (1)\né™¤äº†æ•°å­—å¦ä¸€ç§è¡¨ç¤ºæ–¹æ³•ï¼š å¯è¯»ï¼ˆrï¼‰ å¯å†™ï¼ˆwï¼‰ å¯æ‰§è¡Œï¼ˆxï¼‰\nç”¨æˆ·ï¼šuserï¼ˆuï¼‰ ç»„ï¼šgroupï¼ˆgï¼‰ å…¶ä»–äººï¼šotherï¼ˆoï¼‰\nchmod a-x file è¡¨ç¤ºæŠŠæ‰€æœ‰äººå¯¹è¯¥æ–‡ä»¶çš„æ‰§è¡Œæƒé™æ”¶å›\n","description":"","tags":["linux"],"title":"æ–‡ä»¶æƒé™","uri":"/posts/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/"},{"categories":["docker"],"content":" docker å‘½ä»¤é‡Œå·²ç»é›†æˆäº† composeï¼Œæ‰€ä»¥å°½é‡ä½¿ç”¨ docker compose è€Œä¸æ˜¯ docker-compose\nå‡ºäºæ•°æ®å®‰å…¨è€ƒè™‘ï¼Œdocker compose å’Œ dockerä¸€æ ·ï¼Œé»˜è®¤ä¸ä¼šåˆ é™¤å­˜å‚¨å·ï¼Œå¦‚æœæƒ³åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ åˆ é™¤é•œåƒå’Œå­˜å‚¨å·\n1 2 3 4 5 # åˆ é™¤å­˜å‚¨å· $ docker compose down -v # åˆ é™¤å­˜å‚¨å·ä»¥åŠé•œåƒ $ docker compose down --rmi all -v æ³¨æ„ï¼š\nä½¿ç”¨docker compose up -då¯åŠ¨åï¼Œå¦‚æœdocker-compose.yamlæ‰€åœ¨çš„ç›®å½•åæˆ–è·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œdocker compose downæ—¶ä¼šå¤±è´¥ã€‚ å¦‚æœæƒ³è®©docker compose downæ‰§è¡Œçš„å¿«ä¸€äº›ï¼Œå¯ä»¥ä½¿ç”¨-tå‚æ•°æ¥æ§åˆ¶ç­‰å¾…çš„ç§’æ•°ã€‚ ","description":"","tags":["docker"],"title":"docker compose","uri":"/posts/docker-compose/"},{"categories":["linux"],"content":"ä½¿ç”¨ip aæˆ–è€…ifconfigåŒºåˆ†ä¸å‡ºæ¥ç½‘å¡å’Œç½‘æ¡¥ã€‚\nä½¿ç”¨ls -l /sys/class/netå¯ä»¥åˆ¤æ–­ åŒ…å«virtualçš„åº”è¯¥éƒ½æ˜¯è™šæ‹Ÿç½‘æ¡¥ã€‚ åŒ…å«pciçš„éƒ½æ˜¯ç‰©ç†ç½‘å¡ã€‚\nå¦‚ä½•åŒºåˆ†ç½‘æ¡¥å’Œè™šæ‹Ÿè®¾å¤‡å¯¹ brctl showï¼š\nç¬¬ä¸€åˆ—æ˜¯ç½‘æ¡¥ æœ€åä¸€åˆ—æ˜¯è™šæ‹Ÿè®¾å¤‡å¯¹ æ›´å¤šå…³äºè™šæ‹Ÿè®¾å¤‡å¯¹å‚è€ƒï¼šæŸ¥æ‰¾è™šæ‹Ÿè®¾å¤‡å¯¹å¯¹ç«¯ä½ç½®\n","description":"","tags":["linux","ç½‘ç»œ"],"title":"æŸ¥çœ‹æœºå™¨ä¸Šçš„ç½‘å¡","uri":"/posts/%E6%9F%A5%E7%9C%8B%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%9A%84%E7%BD%91%E5%8D%A1/"},{"categories":["docker"],"content":"å‰è¨€ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥é‡Šæ”¾ docker äº§ç”Ÿçš„æ— ç”¨çš„ç©ºé—´ã€‚\næ¸…ç†æœªä½¿ç”¨çš„æ„å»ºç¼“å­˜ docker builder prune -a\n1 2 3 4 5 6 7 8 9 10 11 $ docker help builder prune Usage: docker builder prune Remove build cache Options: -a, --all Remove all unused build cache, not just dangling ones --filter filter Provide filter values (e.g. \"until=24h\") -f, --force Do not prompt for confirmation --keep-storage bytes Amount of disk space to keep for cache æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ docker image prune -a\n1 2 3 4 5 6 7 8 9 10 $ docker help image prune Usage: docker image prune [OPTIONS] Remove unused images Options: -a, --all Remove all unused images, not just dangling ones --filter filter Provide filter values (e.g. \"until=\u003ctimestamp\u003e\") -f, --force Do not prompt for confirmation æ¸…ç†æœªä½¿ç”¨çš„æŒ‚è½½ docker volume prune -a\n1 2 3 4 5 6 7 8 9 10 $ docker help volume prune Usage: docker volume prune [OPTIONS] Remove unused local volumes Options: -a, --all Remove all unused volumes, not just anonymous ones --filter filter Provide filter values (e.g. \"label=\u003clabel\u003e\") -f, --force Do not prompt for confirmation å…¶ä»– docker network prune - æ¸…ç†æœªä½¿ç”¨çš„ç½‘ç»œï¼ˆæ³¨æ„ï¼šåŒ…å« stop çŠ¶æ€å®¹å™¨ç›¸å…³çš„ç½‘ç»œï¼Œæ…ç”¨ï¼‰\n","description":"","tags":["docker"],"title":"é‡Šæ”¾ docker å ç”¨ç©ºé—´","uri":"/posts/%E9%87%8A%E6%94%BEdocker%E5%8D%A0%E7%94%A8%E7%A9%BA%E9%97%B4/"},{"categories":["docker"],"content":"æ“ä½œé•œåƒ ä¸€äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½åªæ˜¯å¯¹è¡¨æ ¼çš„ç»“æ„ä¸æ»¡æ„ï¼Œå¸Œæœ›è‡ªå·±ç»„ç»‡åˆ—ï¼›æˆ–è€…ä¸å¸Œæœ›æœ‰æ ‡é¢˜ï¼Œè¿™æ ·æ–¹ä¾¿å…¶å®ƒç¨‹åºè§£æç»“æœç­‰ï¼Œè¿™å°±ç”¨åˆ°äº† Go çš„æ¨¡æ¿è¯­æ³•ã€‚\nä¸‹é¢çš„å‘½ä»¤ä¼šç›´æ¥åˆ—å‡ºé•œåƒç»“æœï¼Œå¹¶ä¸”åªåŒ…å«é•œåƒ ID å’Œä»“åº“åï¼š\n1 2 3 4 5 6 7 $ docker image ls --format \"{{.ID}}: {{.Repository}}\" 5f515359c7f8: redis 05a60462f8ba: nginx fe9198c04d62: mongo 00285df0df87: \u003cnone\u003e 329ed837d508: ubuntu 329ed837d508: ubuntu 1 2 3 4 5 6 7 8 $ docker image ls --format \"table {{.ID}}\\t{{.Repository}}\\t{{.Tag}}\" IMAGE ID REPOSITORY TAG 5f515359c7f8 redis latest 05a60462f8ba nginx latest fe9198c04d62 mongo 3.2 00285df0df87 \u003cnone\u003e \u003cnone\u003e 329ed837d508 ubuntu 18.04 329ed837d508 ubuntu bionic æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°åœ¨ mongo:3.2 ä¹‹åå»ºç«‹çš„é•œåƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n1 2 3 4 $ docker image ls -f since=mongo:3.2 REPOSITORY TAG IMAGE ID CREATED SIZE redis latest 5f515359c7f8 5 days ago 183 MB nginx latest 05a60462f8ba 5 days ago 181 MB æƒ³æŸ¥çœ‹æŸä¸ªä½ç½®ä¹‹å‰çš„é•œåƒä¹Ÿå¯ä»¥ï¼Œåªéœ€è¦æŠŠ since æ¢æˆ before å³å¯ã€‚\næ­¤å¤–ï¼Œå¦‚æœé•œåƒæ„å»ºæ—¶ï¼Œå®šä¹‰äº† LABELï¼Œè¿˜å¯ä»¥é€šè¿‡ LABEL æ¥è¿‡æ»¤ã€‚\n1 2 $ docker image ls -f label=com.example.version=0.1 ... åˆ é™¤é•œåƒå’Œå®¹å™¨ åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒdocker image prune -a åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨ docker container prune åˆ é™¤æ•°æ®å· æ•°æ®å· æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼ŒDocker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤ æ•°æ®å·ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„ æ•°æ®å·ã€‚å¦‚æœéœ€è¦åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ç§»é™¤æ•°æ®å·ã€‚å¯ä»¥åœ¨åˆ é™¤å®¹å™¨çš„æ—¶å€™ä½¿ç”¨ docker rm -v è¿™ä¸ªå‘½ä»¤ã€‚\næ— ä¸»çš„æ•°æ®å·å¯èƒ½ä¼šå æ®å¾ˆå¤šç©ºé—´ï¼Œè¦æ¸…ç†è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 $ docker volume prune å‚è€ƒèµ„æ–™ https://yeasy.gitbook.io/docker_practice/\n","description":"","tags":["docker"],"title":"docker ä½¿ç”¨","uri":"/posts/docker%E4%BD%BF%E7%94%A8/"},{"categories":["docker"],"content":"ADD å’Œ COPY åŒºåˆ« å¦‚æœ \u003cæºè·¯å¾„\u003e ä¸ºä¸€ä¸ª tar å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ° \u003cç›®æ ‡è·¯å¾„\u003e å»ã€‚\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè‡ªåŠ¨è§£å‹ç¼©çš„åŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚å®˜æ–¹é•œåƒ ubuntu ä¸­ï¼š\nFROM scratch ADD ubuntu-xenial-core-cloudimg-amd64-root.tar.gz / ... ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çœŸçš„æ˜¯å¸Œæœ›å¤åˆ¶ä¸ªå‹ç¼©æ–‡ä»¶è¿›å»ï¼Œè€Œä¸è§£å‹ç¼©ï¼Œè¿™æ—¶å°±ä¸å¯ä»¥ä½¿ç”¨ ADD å‘½ä»¤äº†ã€‚\nåœ¨ Docker å®˜æ–¹çš„Dockerfile æœ€ä½³å®è·µæ–‡æ¡£ä¸­è¦æ±‚ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ COPY ğŸ˜„ï¼Œå› ä¸º COPY çš„è¯­ä¹‰å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯å¤åˆ¶æ–‡ä»¶è€Œå·²ï¼Œè€Œ ADD åˆ™åŒ…å«äº†æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œå…¶è¡Œä¸ºä¹Ÿä¸ä¸€å®šå¾ˆæ¸…æ™°ã€‚æœ€é€‚åˆä½¿ç”¨ ADD çš„åœºåˆï¼Œå°±æ˜¯æ‰€æåŠçš„éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆã€‚\nå¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒADD æŒ‡ä»¤ä¼šä»¤é•œåƒæ„å»ºç¼“å­˜å¤±æ•ˆï¼Œä»è€Œå¯èƒ½ä¼šä»¤é•œåƒæ„å»ºå˜å¾—æ¯”è¾ƒç¼“æ…¢ã€‚\nCMD å’Œ ENTRYPOINT åŒºåˆ« ä»…åœ¨ä½¿ç”¨docker runæ—¶æœ‰åŒºåˆ«ï¼Œå®¹å™¨è¿è¡Œèµ·æ¥åä½¿ç”¨docker execæ—¶æ²¡æœ‰åŒºåˆ«ã€‚\nCMD æƒ³å¢åŠ å‚æ•°-içš„è¯ï¼Œè¿˜éœ€è¦æŠŠå®Œæ•´å‘½ä»¤å†å†™ä¸€é\n1 2 3 4 5 FROM ubuntu:18.04 RUN apt-get update \\ \u0026\u0026 apt-get install -y curl \\ \u0026\u0026 rm -rf /var/lib/apt/lists/* CMD [ \"curl\", \"-s\", \"http://myip.ipip.net\" ] 1 $ docker run myip curl -s http://myip.ipip.net -i ENTRYPOINT å¯ä»¥ç›´æ¥åœ¨docker run åé¢å¢åŠ å‚æ•°ï¼Œdocker ä¼šè¿›è¡Œè¿½åŠ æ“ä½œ\n1 2 3 4 5 FROM ubuntu:18.04 RUN apt-get update \\ \u0026\u0026 apt-get install -y curl \\ \u0026\u0026 rm -rf /var/lib/apt/lists/* ENTRYPOINT [ \"curl\", \"-s\", \"http://myip.ipip.net\" ] docker run myip -i ç­‰ä»·äº curl -s http://myip.ipip.net -i\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 $ docker run myip å½“å‰ IPï¼š61.148.226.66 æ¥è‡ªï¼šåŒ—äº¬å¸‚ è”é€š $ docker run myip -i HTTP/1.1 200 OK Server: nginx/1.8.0 Date: Tue, 22 Nov 2016 05:12:40 GMT Content-Type: text/html; charset=UTF-8 Vary: Accept-Encoding X-Powered-By: PHP/5.6.24-1~dotdeb+7.1 X-Cache: MISS from cache-2 X-Cache-Lookup: MISS from cache-2:80 X-Cache: MISS from proxy-2_6 Transfer-Encoding: chunked Via: 1.1 cache-2:80, 1.1 proxy-2_6:8006 Connection: keep-alive å½“å‰ IPï¼š61.148.226.66 æ¥è‡ªï¼šåŒ—äº¬å¸‚ è”é€š ARG å’Œ ENV åŒºåˆ« ARG æ ¼å¼ï¼šARG \u003cå‚æ•°å\u003e[=\u003cé»˜è®¤å€¼\u003e]\næ„å»ºå‚æ•°å’Œ ENV çš„æ•ˆæœä¸€æ ·ï¼Œéƒ½æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼ŒARG æ‰€è®¾ç½®çš„æ„å»ºç¯å¢ƒçš„ç¯å¢ƒå˜é‡ï¼Œåœ¨å°†æ¥å®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå­˜åœ¨è¿™äº›ç¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯ä¸è¦å› æ­¤å°±ä½¿ç”¨ ARG ä¿å­˜å¯†ç ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå› ä¸º docker history è¿˜æ˜¯å¯ä»¥çœ‹åˆ°æ‰€æœ‰å€¼çš„ã€‚\nDockerfile ä¸­çš„ ARG æŒ‡ä»¤æ˜¯å®šä¹‰å‚æ•°åç§°ï¼Œä»¥åŠå®šä¹‰å…¶é»˜è®¤å€¼ã€‚è¯¥é»˜è®¤å€¼å¯ä»¥åœ¨æ„å»ºå‘½ä»¤ docker build ä¸­ç”¨ --build-arg \u003cå‚æ•°å\u003e=\u003cå€¼\u003e æ¥è¦†ç›–ã€‚\nçµæ´»çš„ä½¿ç”¨ ARG æŒ‡ä»¤ï¼Œèƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ Dockerfile çš„æƒ…å†µä¸‹ï¼Œæ„å»ºå‡ºä¸åŒçš„é•œåƒã€‚\nARG æŒ‡ä»¤æœ‰ç”Ÿæ•ˆèŒƒå›´ï¼Œå¦‚æœåœ¨ FROM æŒ‡ä»¤ä¹‹å‰æŒ‡å®šï¼Œé‚£ä¹ˆåªèƒ½ç”¨äº FROM æŒ‡ä»¤ä¸­ã€‚\n1 2 3 4 5 ARG DOCKER_USERNAME=library FROM ${DOCKER_USERNAME}/alpine RUN set -x ; echo ${DOCKER_USERNAME} ä½¿ç”¨ä¸Šè¿° Dockerfile ä¼šå‘ç°æ— æ³•è¾“å‡º ${DOCKER_USERNAME} å˜é‡çš„å€¼ï¼Œè¦æƒ³æ­£å¸¸è¾“å‡ºï¼Œä½ å¿…é¡»åœ¨ FROM ä¹‹åå†æ¬¡æŒ‡å®š ARG\n1 2 3 4 5 6 7 8 9 # åªåœ¨ FROM ä¸­ç”Ÿæ•ˆ ARG DOCKER_USERNAME=library FROM ${DOCKER_USERNAME}/alpine # è¦æƒ³åœ¨ FROM ä¹‹åä½¿ç”¨ï¼Œå¿…é¡»å†æ¬¡æŒ‡å®š ARG DOCKER_USERNAME=library RUN set -x ; echo ${DOCKER_USERNAME} 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 ARG DOCKER_USERNAME=library FROM ${DOCKER_USERNAME}/alpine # åœ¨FROM ä¹‹åä½¿ç”¨å˜é‡ï¼Œå¿…é¡»åœ¨æ¯ä¸ªé˜¶æ®µåˆ†åˆ«æŒ‡å®š ARG DOCKER_USERNAME=library RUN set -x ; echo ${DOCKER_USERNAME} FROM ${DOCKER_USERNAME}/alpine # åœ¨FROM ä¹‹åä½¿ç”¨å˜é‡ï¼Œå¿…é¡»åœ¨æ¯ä¸ªé˜¶æ®µåˆ†åˆ«æŒ‡å®š ARG DOCKER_USERNAME=library RUN set -x ; echo ${DOCKER_USERNAME} ENV æ ¼å¼æœ‰ä¸¤ç§ï¼š\nENV \u003ckey\u003e \u003cvalue\u003e ENV \u003ckey1\u003e=\u003cvalue1\u003e \u003ckey2\u003e=\u003cvalue2\u003e... ENVè®¾ç½®çš„ç¯å¢ƒå˜é‡åœ¨é•œåƒæ„å»ºå’Œå®¹å™¨è¿è¡Œè¿‡ç¨‹ä¸­éƒ½æœ‰æ•ˆã€‚\n","description":"","tags":["docker"],"title":"dockerfile ä½¿ç”¨","uri":"/posts/dockerfile%E4%BD%BF%E7%94%A8/"},{"categories":["docker"],"content":"å®‰è£… docker\n1 2 $ curl -fsSL get.docker.com -o get-docker.sh $ sudo sh get-docker.sh --mirror Aliyun å»ºç«‹ docker ç»„ï¼š\n1 $ sudo groupadd docker å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼š\n1 $ sudo usermod -aG docker $USER ","description":"","tags":["docker"],"title":"docker å®‰è£…","uri":"/posts/docker%E5%AE%89%E8%A3%85/"},{"categories":["linux"],"content":"æ ¹ç›®å½•ä¸‹å¯ç”¨ç£ç›˜å¤§å°ä¸º 22Gï¼Œå®é™…ç‰©ç†ç£ç›˜æœ‰ 46.58Gï¼Œvgs å¯çœ‹åˆ°è¿˜æœ‰ 21.76ï¼ˆ50%ï¼‰çš„ç©ºé—´æ²¡è¢«ä½¿ç”¨ã€‚\næ‰©å±•é€»è¾‘å·ï¼Œå¹¶å°†VFreeçš„ç©ºé—´å…¨éƒ¨åˆ†é…é€»è¾‘å·/dev/mapper/ubuntu--vg-ubuntu--lv\nè¿™ä¸ªå‘½ä»¤å°†é€»è¾‘å·æ‰©å±•åˆ°å·ç»„ä¸­çš„æ‰€æœ‰å¯ç”¨ç©ºé—´ã€‚å¦‚æœä½ åªæƒ³åˆ†é…éƒ¨åˆ†å¯ç”¨ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨ -L é€‰é¡¹å¹¶æŒ‡å®šå…·ä½“çš„å¤§å°ï¼Œä¾‹å¦‚ -L +10G è¡¨ç¤ºå¢åŠ  10GBã€‚ ext4 æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨resize2fs xfs æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ xfs_growfs\n1 2 3 $ lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv $ resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv ","description":"","tags":["linux"],"title":"Linux ä¿®æ”¹ç£ç›˜å¤§å°","uri":"/posts/linux-disk-change/"},{"categories":["å…¶ä»–"],"content":"ç®€ä»‹ oracle å…è´¹æœåŠ¡å™¨ä¸æ”¯æŒåœ¨ç•Œé¢ä¸Šæ›´æ¢æ“ä½œç³»ç»Ÿï¼Œè¿™é‡Œå€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·boot.netboot.xyzé‡è£…ã€‚\nå¯¹äºä¸èƒ½ ssh ç™»å½•çš„æœºå™¨å‚è€ƒè¿™ä¸ªï¼šhttps://ooly.cc/archives/linux/361/\nå¿˜è®°å¯†ç å‚è€ƒï¼šhttps://iweec.com/731.html\nä¸‹è½½ netboot amdï¼š\n1 2 cd /boot/efi/EFI wget https://boot.netboot.xyz/ipxe/netboot.xyz.efi arm\n1 2 cd /boot/efi/EFI wget https://boot.netboot.xyz/ipxe/netboot.xyz-arm64.efi å¯åŠ¨ cloud shell è¿æ¥ åœ¨å®ä¾‹è¯¦æƒ…é‡Œé€‰æ‹© æ§åˆ¶å°è¿æ¥ -- å¯åŠ¨Cloud Shellè¿æ¥ ç­‰å¾…æ˜¾ç¤ºFor more information about troubleshooting ...å³å¯ã€‚ é‡æ–°å¼•å¯¼å®ä¾‹ é€‰æ‹©é‡æ–°å¼•å¯¼ -- å¼ºåˆ¶é‡æ–°å¼•å¯¼å®ä¾‹\nåœ¨ä¸‹æ–¹çš„ Cloud Shell é‡ŒæŒ‰å‡ ä¸‹ESCï¼Œè¿›å…¥BIOSåé€‰æ‹© Boot Maintenance Manager -- Boot From File -- \u003cEFI\u003eï¼Œå†æ‰¾åˆ°å¯¹åº”çš„ netboot æ–‡ä»¶ï¼Œå›è½¦ã€‚ é€‰æ‹©Linux Network Installsï¼Œåç»­å®‰è£…æ“ä½œç³»ç»Ÿå³å¯ã€‚ å¿˜è®°å¯†ç  åœ¨ bios è®¾ç½®ä¹‹åï¼Œç›´æ¥å¯åŠ¨ï¼Œç„¶ååœ¨å¯åŠ¨è™šæ‹Ÿæœºå‡ºç°å¯åŠ¨èœå•çš„æ—¶å€™å°±æŒ‰â€œeâ€é”®è¿›å…¥ç¼–è¾‘é€‰é¡¹ï¼Œé€‰æ‹©ç¬¬ä¸€é¡¹ï¼\næŒ‰æ–¹å‘ä¸‹é”®ä¸€ç›´åˆ°å€’æ•°ç¬¬äºŒè¡Œï¼Œä¿®æ”¹ä¸¤å¤„ï¼Œé¦–å…ˆå°† ro æ”¹ä¸º rwï¼Œå³åªè¯»æ”¹ä¸ºå¯è¯»å†™æƒé™ï¼Œç„¶ååœ¨å°¾éƒ¨åŠ å…¥ init=/bin/sh è¿™ä¸ªæ–‡ä»¶ä¿®æ”¹æ—¶å€™å°å¿ƒä¸€ç‚¹ï¼\nç„¶åæŒ‰ Ctrl+xã€‚\næ‰§è¡Œ passwd å‘½ä»¤ï¼Œä¿®æ”¹ root å¯†ç ï¼Œå¯†ç è¦è¾“å…¥ä¸¤æ¬¡è¦æ±‚ä¸¤æ¬¡å¯†ç è¦ä¸€è‡´ã€‚\næ‰§è¡Œå‘½ä»¤ exec /sbin/init æ¥æ­£å¸¸å¯åŠ¨ï¼Œæˆ–è€…ç”¨å‘½ä»¤ exec /sbin/reboot é‡å¯å°± OK äº†ã€‚\n","description":"","tags":["å…¶ä»–"],"title":"Oracle æœåŠ¡å™¨ä½¿ç”¨ netboot é‡è£…ç³»ç»Ÿ","uri":"/posts/oracle-server-netboot/"},{"categories":["linux"],"content":" 1 2 3 4 5 6 7 8 æ²¡æœ‰æ•°æ®å‘é€åï¼Œå¤šé•¿æ—¶é—´å‘é€ä¿æ´»æ¢æµ‹åŒ… /proc/sys/net/ipv4/tcp_keepalive_time ä¿æ´»æ¢æµ‹åŒ…å¤šä¹…å‘ä¸€æ¬¡ /proc/sys/net/ipv4/tcp_keepalive_intvl æœ€å¤šå‘å‡ æ¬¡ä¿æ´»æ¢æµ‹åŒ… /proc/sys/net/ipv4/tcp_keepalive_probes https://juejin.cn/post/7142654287493988359\n","description":"","tags":["linux","ç½‘ç»œ"],"title":"tcp ä¿æ´»","uri":"/posts/tcp%E4%BF%9D%E6%B4%BB/"},{"categories":["linux"],"content":"å‚è€ƒ https://www.runoob.com/linux/linux-user-manage.html https://www.cnblogs.com/carriezhangyan/p/10552496.html\nuseradd æ˜¯ä¸€ä¸ª linux å‘½ä»¤ï¼Œä½†æ˜¯å®ƒæä¾›äº†å¾ˆå¤šå‚æ•°åœ¨ç”¨æˆ·ä½¿ç”¨çš„æ—¶å€™æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œè®¾ç½®ï¼›\nadduser æ˜¯ä¸€ä¸ª perl è„šæœ¬ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šå‡ºç°ç±»ä¼¼äººæœºäº¤äº’çš„ç•Œé¢ï¼Œæä¾›é€‰é¡¹è®©ç”¨æˆ·å¡«å†™å’Œé€‰æ‹©ï¼Œè¿™ä¸ªå‘½ä»¤æ¯”èµ· useradd æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ¯”è¾ƒå‚»ç“œã€‚\nadduser 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # adduser git Adding user `git' ... Adding new group `git' (1004) ... Adding new user `git' (1004) with group `git' ... Creating home directory `/home/git' ... Copying files from `/etc/skel' ... Enter new UNIX password: Retype new UNIX password: passwd: password updated successfully Changing the user information for git Enter the new value, or press ENTER for the default Full Name []: Room Number []: Work Phone []: Home Phone []: Other []: Is the information correct? [Y/n] y# ls /homegit # grep git /etc/passwdgit:x:1004:1004:,,,:/home/git:/bin/bash useraddï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 useraddæœ‰å¤§é‡çš„å‚æ•°ä¾›æˆ‘ä»¬è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚useraddçš„å‚æ•°å¦‚ä¸‹ï¼š -c å¤‡æ³¨ åŠ ä¸Šå¤‡æ³¨ã€‚å¹¶ä¼šå°†æ­¤å¤‡æ³¨æ–‡å­—åŠ åœ¨/etc/passwdä¸­çš„ç¬¬5é¡¹å­—æ®µä¸­ -d ç”¨æˆ·ä¸»æ–‡ä»¶å¤¹ã€‚æŒ‡å®šç”¨æˆ·ç™»å½•æ‰€è¿›å…¥çš„ç›®å½•ï¼Œå¹¶èµ‹äºˆç”¨æˆ·å¯¹è¯¥ç›®å½•çš„çš„å®Œå…¨æ§åˆ¶æƒ -e æœ‰æ•ˆæœŸé™ã€‚æŒ‡å®šå¸å·çš„æœ‰æ•ˆæœŸé™ã€‚æ ¼å¼ä¸ºYYYY-MM-DDï¼Œå°†å­˜å‚¨åœ¨/etc/shadow -f ç¼“å†²å¤©æ•°ã€‚é™å®šå¯†ç è¿‡æœŸåå¤šå°‘å¤©ï¼Œå°†è¯¥ç”¨æˆ·å¸å·åœç”¨ -g ä¸»è¦ç»„ã€‚è®¾ç½®ç”¨æˆ·æ‰€å±çš„ä¸»è¦ç»„ -G æ¬¡è¦ç»„ã€‚è®¾ç½®ç”¨æˆ·æ‰€å±çš„æ¬¡è¦ç»„ï¼Œå¯è®¾ç½®å¤šç»„ -M å¼ºåˆ¶ä¸åˆ›å»ºç”¨æˆ·ä¸»æ–‡ä»¶å¤¹ -m å¼ºåˆ¶å»ºç«‹ç”¨æˆ·ä¸»æ–‡ä»¶å¤¹ï¼Œå¹¶å°†/etc/skel/å½“ä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°ç”¨æˆ·çš„æ ¹ç›®å½•ä¸‹ -p å¯†ç ã€‚è¾“å…¥è¯¥å¸å·çš„å¯†ç  -s shellã€‚ç”¨æˆ·ç™»å½•æ‰€ä½¿ç”¨çš„shell -u uidã€‚æŒ‡å®šå¸å·çš„æ ‡å¿—ç¬¦user idï¼Œç®€ç§°uid useraddè¿™ä¸ªå‘½ä»¤åˆ›å»ºçš„æ˜¯æ™®é€šè´¦å·ï¼Œå¹¶ä¸èƒ½ç”¨æ¥ç™»å½•ç³»ç»Ÿã€‚ ","description":"","tags":["linux"],"title":"ç”¨æˆ·å’Œç”¨æˆ·ç»„","uri":"/posts/%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84/"},{"categories":["linux"],"content":"rsync(remote sync)ï¼Œå³è¿œç¨‹åŒæ­¥ï¼Œä¸è¿‡ä¹Ÿå¯ç”¨äºæœ¬åœ°æ–‡ä»¶åŒæ­¥ï¼Œé€šå¸¸åœ¨å¢é‡æ›´æ–°çš„åœºæ™¯ä¸‹æ¯” scp æ›´å¿«æ›´æ–¹ä¾¿ã€‚\nrsync å¸¸ç”¨å‚æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 -a åŒ…å«äº†-rtplgoD -r åŒæ­¥ç›®å½•æ—¶è¦åŠ ä¸Šï¼Œç±»ä¼¼cpæ—¶çš„-ré€‰é¡¹ -v åŒæ­¥æ—¶æ˜¾ç¤ºä¸€äº›ä¿¡æ¯ï¼Œè®©æˆ‘ä»¬çŸ¥é“åŒæ­¥çš„è¿‡ç¨‹ -l ä¿ç•™è½¯è¿æ¥ -L åŠ ä¸Šè¯¥é€‰é¡¹åï¼ŒåŒæ­¥è½¯è¿æ¥çš„æºæ–‡ä»¶ï¼ˆè‹¥å¦å¤–ä¸€å°æœºå™¨é‡Œæ²¡æœ‰æºæ–‡ä»¶ï¼Œåˆ™åŒæ­¥è½¯ä»¶è¿æ¥è¿‡å»ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼‰ -p ä¿æŒæ–‡ä»¶çš„æƒé™å±æ€§ -o ä¿æŒç¨³å¥çš„å±ä¸» -g ä¿æŒç¨³å¥çš„å±ç»„ -D ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯ -t ä¿æŒæ–‡ä»¶çš„æ—¶é—´å±æ€§ -P æ˜¾ç¤ºåŒæ­¥è¿‡ç¨‹ï¼Œæ¯”å¦‚é€Ÿç‡ï¼Œæ¯”-væ›´è¯¦ç»† -u å¦‚æœç›®æ ‡ä¸­çš„æ–‡ä»¶æ¯”æºæ–‡ä»¶è¿˜æœ‰æ–°ï¼Œåˆ™ä¸åŒæ­¥ï¼Œä»¥ç›®æ ‡æ–‡ä»¶ä¸­æ–°çš„ä¸ºä¸» -z ä¼ è¾“æ—¶å‹ç¼©ï¼ˆåŠ å¿«ä¼ è¾“é€Ÿåº¦ï¼ŒèŠ‚çœå¸¦å®½ï¼‰ --delete åˆ é™¤ç›®æ ‡ç›®å½•ä¸­æºç›®å½•é‡Œæ²¡æœ‰çš„æ–‡ä»¶ --exclude è¿‡æ»¤æŒ‡å®šæ–‡ä»¶ï¼Œå¦‚--exclude \"logs\"ä¼šæŠŠæ–‡ä»¶ååŒ…å«Logsçš„æ–‡ä»¶æˆ–è€…ç›®å½•è¿‡æ»¤æ‰ä¸åŒæ­¥ æœ€å¸¸ç”¨çš„å‡ ç§æ–¹å¼ï¼š\næ™®é€šåŒæ­¥ï¼š\n1 $ rsync -avr mylocaldir root@192.168.1.100:/path/to/dst/ åŒæ­¥å¹¶åˆ é™¤è¿œç«¯å¤šä½™çš„æ–‡ä»¶ï¼š\n1 $ rsync -avr --delete mylocaldir root@192.168.1.100:/path/to/dst/ å¦‚æœè¿œç«¯æ–‡ä»¶æ—¥æœŸæ¯”è¾ƒæ–°ï¼Œåˆ™ä¸è¦†ç›–ï¼š\n1 $ rsync -avr -u mylocaldir root@192.168.1.100:/path/to/dst/ å¿½ç•¥æŸäº›æœ¬åœ°æ–‡ä»¶ï¼š\n1 $ rsync -avr -u mylocaldir --exclude aaa* --exclude bbb* root@192.168.1.100:/path/to/dst/ ","description":"","tags":["linux"],"title":"rsync æ–‡ä»¶åŒæ­¥","uri":"/posts/rsync%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5/"},{"categories":["å…¶ä»–"],"content":"Mac:\n1 2 3 4 5 6 7 8 // å°†è¾“å‡ºå¤åˆ¶è‡³å‰ªè´´æ¿ $ echo \"hello\" | pbcopy // å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶è‡³å‰ªè´´æ¿ $ pbcopy \u003c remade.md // å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´è‡³æ–‡ä»¶ $ pbpaste \u003e remade.md Linux:\n1 2 # éœ€è¦å¸¦ç•Œé¢çš„æ‰èƒ½ç”¨ï¼Œapt install xclip $ echo \"hello\" | xclip ","description":"","tags":["å…¶ä»–"],"title":"å‘½ä»¤è¡Œå†…å®¹è¾“å‡ºåˆ°å‰ªè´´æ¿","uri":"/posts/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%86%85%E5%AE%B9%E8%BE%93%E5%87%BA%E5%88%B0%E5%89%AA%E8%B4%B4%E6%9D%BF/"},{"categories":["å…¶ä»–"],"content":"å‘é€ä¼ªé€  syn æ¡æ‰‹åŒ…ï¼š\n1 2 3 4 5 6 7 -c æ¬¡æ•° -p ç›®æ ‡ç«¯å£ -a æºIP -s æºç«¯å£ -S æ”»å‡»ç±»å‹æ˜¯Syn flood hping3 192.168.190.1 -c 1 -p 6106 -S -a 172.22.0.27 -s 31399 hping3 192.168.190.1 -c 1 -p 6109 -S -a 172.22.0.29 -s 31683\n","description":"","tags":["å…¶ä»–"],"title":"hping3 ä½¿ç”¨","uri":"/posts/hping3%E4%BD%BF%E7%94%A8/"},{"categories":["linux"],"content":" 1 2 3 4 5 6 7 # enp22s0f3 æ˜¯ç½‘å¡å # æ·»åŠ  ip addr add 192.168.0.1/16 dev enp22s0f3 #åˆ é™¤ ip addr del 192.168.0.1/16 dev enp22s0f3 ","description":"","tags":["linux","ç½‘ç»œ"],"title":"ä¸´æ—¶ä¿®æ”¹ç½‘å¡åœ°å€","uri":"/posts/%E4%B8%B4%E6%97%B6%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%9C%B0%E5%9D%80/"},{"categories":["golang"],"content":"æ–‡ç«  https://www.bennhuang.com/posts/wire/\nhttps://www.51cto.com/article/720059.html\næ„Ÿå— å¤§å‹é¡¹ç›®ï¼Œä¾èµ–å¾ˆå¤šçš„æ—¶å€™æ‰ä¼šæœ‰ç”¨ã€‚\n","description":"","tags":["golang"],"title":"Go ä¾èµ–æ³¨å…¥","uri":"/posts/go%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/"},{"categories":["golang"],"content":"UTC UTCï¼ˆCoordinated Universal Timeï¼‰ï¼Œå³åè°ƒä¸–ç•Œæ—¶ï¼Œå¯¹åº”çš„æ˜¯æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ã€‚ å›½å†…ä½äºä¸œå…«åŒºï¼Œå’Œ UTC ç›¸å·® 8 å°æ—¶ï¼Œæ‰€ä»¥æ—¶é—´è½¬æ¢æ—¶éœ€è¦è€ƒè™‘æ—¶åŒºé—®é¢˜ã€‚\nå­—ç¬¦ä¸²æ ¼å¼çš„æ—¶é—´ (æ¯”å¦‚ \"2023-09-01 11:22:33\")ï¼Œè½¬æ¢æˆ golang çš„ time.Timeæ—¶é»˜è®¤å¾—åˆ°çš„æ˜¯ UTC æ—¶é—´ã€‚\næ ‡å‡†åº“ é»˜è®¤çš„ time.Parseåœ¨æ ‡å‡†åº“ä¸­çš„å®ç°å¦‚ä¸‹ï¼š å¦‚æœè¦æŒ‡å®šæ—¶åŒºï¼Œéœ€è¦ç”¨åˆ°å‡½æ•° time.LoadLocationï¼Œå®ƒåœ¨æ ‡å‡†åº“ä¸­çš„å®ç°å¦‚ä¸‹ï¼š å…¶ä¸­å…¥å‚ name çš„å–å€¼å¯ä»¥ç”¨å‘½ä»¤ timedatectl list-timezonesæ¥æŸ¥çœ‹ï¼š é™¤äº†ä¸Šè¿°å¯é€‰çš„å…¥å‚å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šå‚æ•°â€œLocalâ€ï¼Œè¡¨ç¤ºè®©ç¨‹åºæ ¹æ®æ‰€åœ¨æœºå™¨çš„é»˜è®¤æ—¶åŒºè¿›è¡Œè½¬æ¢ã€‚ä¼ å…¥â€œLocalâ€å¯ä»¥ä½¿ä»£ç æ›´åŠ æ ‡å‡†ï¼Œå…¼å®¹æ€§æ›´å¼ºï¼Œä½†æ˜¯æœ‰äº›è€å…­ä¸æ”¹ç³»ç»Ÿæ—¶åŒºï¼Œå°±æ¯”è¾ƒå‘äº†ã€‚æ‰€ä»¥è¦ä¹ˆä½ ç›´æ¥å†™æ­»â€œAsia/Shanghaiâ€ï¼Œè¦ä¹ˆè®°å¾—ä½¿ç”¨â€œtimedatectl set-timezone Asia/Shanghaiâ€ä¿®æ”¹ç³»ç»Ÿæ—¶åŒºï¼ˆæ³¨æ„è¿™é‡Œä¸ºä»€ä¹ˆä¸æ˜¯ Asia/Beijingï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚ã€‚ã€‚å®ƒå°±æ˜¯æ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼‰ã€‚\næµ‹è¯• ä»¥ä¸‹æµ‹è¯•ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºæ¥åŠ ä¸Šæ—¶åŒºåçš„æ•ˆæœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 package main import ( \"fmt\" \"time\" ) func main() { // å¾…è½¬æ¢çš„æ—¥æœŸå­—ç¬¦ä¸² timeStr := \"2023-09-01 11:22:33\" fmt.Println(\"======parseTime:\") { t, err := parseTime(timeStr) if err != nil { panic(err) } fmt.Println(t.Location()) fmt.Println(t.String()) fmt.Println(t.Unix()) } fmt.Println(\"======parseTimeWithLocation:\") { t, err := parseTimeWithLocation(timeStr) if err != nil { panic(err) } fmt.Println(t.Location()) fmt.Println(t.String()) fmt.Println(t.Unix()) } } // å¸¦æ—¶åŒºçš„è½¬æ¢ func parseTimeWithLocation(timeStr string) (time.Time, error) { // l, err := time.LoadLocation(\"Asia/Shanghai\") l, err := time.LoadLocation(\"Local\") if err != nil { return time.Time{}, err } return time.ParseInLocation(\"2006-01-02 15:04:05\", timeStr, l) } // é»˜è®¤æ—¶é—´è½¬æ¢ func parseTime(timeStr string) (time.Time, error) { return time.Parse(\"2006-01-02 15:04:05\", timeStr) } å¦‚æœä¸çŸ¥é“è‡ªå·±çš„æ—¶åŒºï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ timedatectl statusçœ‹ä¸‹å¯¹åº”çš„æ—¶åŒºï¼š ","description":"","tags":["golang"],"title":"Go æ—¶åŒºé—®é¢˜","uri":"/posts/go-timezone/"},{"categories":["å…¶ä»–"],"content":"åªå¯åŠ¨ wireshark\nMac ä¸‹å¯åŠ¨å¤šä¸ª wireshark å®ä¾‹æ—¶ä½¿ç”¨ï¼Œä½†å¯èƒ½ä¸ç¨³å®š\n1 2 3 4 5 /Applications/Wireshark.app/Contents/MacOS/Wireshark æˆ–è€… open -n /Applications/Wireshark.app å¯åŠ¨ wireshark å¹¶ä¸”ç›´æ¥å¼€å§‹æŠ“åŒ…ï¼š\nç›®æ ‡æœºå™¨éœ€è¦å®‰è£… apt install dumpcap\n1 cd /Applications/Wireshark.app/Contents/MacOS \u0026\u0026 ssh root@10.1.8.1 'dumpcap -w - -f \"not port 22\"' -i vmbr1 | ./Wireshark -k -i - ","description":"","tags":["å…¶ä»–"],"title":"å‘½ä»¤è¡Œå¯åŠ¨ wireshark æŠ“åŒ…","uri":"/posts/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%90%AF%E5%8A%A8wireshark%E6%8A%93%E5%8C%85/"},{"categories":["golang"],"content":"æ™®é€šä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import \"fmt\" type Code int const ( OK Code = 1 BadRequest Code = 2 InvalidParam Code = 3 ) func main() { fmt.Println(BadRequest) } è¿è¡Œç»“æœï¼š\n1 2 3 4 $ ls go.mod go.sum main.go $ go run . 2 Codeæ˜¯intç±»å‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¾“å‡ºæ˜¯æ•´å½¢æ•°å­—ã€‚\nä½¿ç”¨ go generate å’Œ stringer ä¸‹é¢çœ‹ä¸‹ä½¿ç”¨go generateå’Œå®˜æ–¹çš„stringeræ˜¯ä»€ä¹ˆæ•ˆæœã€‚\nå®‰è£… 1 go install golang.org/x/tools/cmd/stringer æ·»åŠ æ ‡è®° åœ¨ä»£ç çš„ä»»æ„åœ°æ–¹æ·»åŠ ä¸€è¡Œ //go:generate stringer -type=Code\næ³¨æ„ï¼Œ//åé¢ä¸èƒ½æœ‰ç©ºæ ¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import \"fmt\" //go:generate stringer -type=Code type Code int const ( OK Code = 1 BadRequest Code = 2 InvalidParam Code = 3 ) func main() { fmt.Println(BadRequest) } è¿è¡Œç»“æœï¼š\n1 2 3 4 5 $ go generate $ ls code_string.go go.mod go.sum main.go $ go run . BadRequest æ‰§è¡Œgo generateåï¼Œä¼šç”Ÿæˆä¸€ä¸ª code_string.go çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // Code generated by \"stringer -type=Code\"; DO NOT EDIT. package main import \"strconv\" func _() { // An \"invalid array index\" compiler error signifies that the constant values have changed. // Re-run the stringer command to generate them again. var x [1]struct{} _ = x[OK-1] _ = x[BadRequest-2] _ = x[InvalidParam-3] } const _Code_name = \"OKBadRequestInvalidParam\" var _Code_index = [...]uint8{0, 2, 12, 24} func (i Code) String() string { i -= 1 if i \u003c 0 || i \u003e= Code(len(_Code_index)-1) { return \"Code(\" + strconv.FormatInt(int64(i+1), 10) + \")\" } return _Code_name[_Code_index[i]:_Code_index[i+1]] } å½“ä»£ç ä¸­å†æ¬¡æ‰“å° Code å€¼çš„æ—¶å€™ï¼Œè¾“å‡ºä¸å†æ˜¯æ•´å½¢æ•°å­—ï¼Œè€Œæ˜¯å˜æˆäº†å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ˜¯å¯¹åº”çš„å˜é‡åç§°ã€‚\næ›´å¤šç”¨æ³• å¦‚æœå†å¢åŠ ä¸€ä¸ª-linecommentå‚æ•°ï¼Œå˜æˆ//go:generate stringer -type=Code -linecommentï¼Œè¡¨ç¤ºæ‰“å°çš„æ—¶å€™ä»æ³¨é‡Šå–å€¼ï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import \"fmt\" //go:generate stringer -type=Code -linecomment type Code int const ( OK Code = 1 // æ­£å¸¸OK BadRequest Code = 2 // è¯·æ±‚é”™è¯¯ InvalidParam Code = 3 ) func main() { fmt.Println(BadRequest) fmt.Println(InvalidParam) } æ‰§è¡Œgo generateåç”Ÿæˆçš„ code_string.go å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // Code generated by \"stringer -type=Code -linecomment\"; DO NOT EDIT. package main import \"strconv\" func _() { // An \"invalid array index\" compiler error signifies that the constant values have changed. // Re-run the stringer command to generate them again. var x [1]struct{} _ = x[OK-1] _ = x[BadRequest-2] _ = x[InvalidParam-3] } const _Code_name = \"æ­£å¸¸OKè¯·æ±‚é”™è¯¯InvalidParam\" var _Code_index = [...]uint8{0, 8, 20, 32} func (i Code) String() string { i -= 1 if i \u003c 0 || i \u003e= Code(len(_Code_index)-1) { return \"Code(\" + strconv.FormatInt(int64(i+1), 10) + \")\" } return _Code_name[_Code_index[i]:_Code_index[i+1]] } è¿è¡Œç»“æœï¼š\n1 2 3 $ go run . è¯·æ±‚é”™è¯¯ InvalidParam å¯è§ï¼ŒåŠ äº†-linecommentå‚æ•°åï¼Œå¦‚æœå˜é‡æœ‰æ³¨é‡Šï¼Œåˆ™æ‰“å°å†…å®¹é»˜è®¤ä¸ºæ³¨é‡Šï¼Œå¦åˆ™é»˜è®¤ä¸ºå˜é‡åç§°ã€‚\næ›´å¤šå‚æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 $ stringer -h Usage of stringer: stringer [flags] -type T [directory] stringer [flags] -type T files... # Must be a single package For more information, see: https://pkg.go.dev/golang.org/x/tools/cmd/stringer Flags: -linecomment use line comment text as printed text when present -output string output file name; default srcdir/\u003ctype\u003e_string.go -tags string comma-separated list of build tags to apply -trimprefix prefix trim the prefix from the generated constant names -type string comma-separated list of type names; must be set ","description":"","tags":["golang","ä»£ç ç”Ÿæˆ"],"title":"Golang çš„ generate stringer","uri":"/posts/go-generate-stringr/"},{"categories":["docker"],"content":"é…ç½®è‡ªå®šä¹‰ä»“åº“åœ°å€ Linux ä¸‹åˆ›å»ºå¹¶ä¿®æ”¹ /etc/docker/daemon.json\n1 2 3 4 5 6 7 8 { \"registry-mirrors\": [ \"https://a.b.c\", ], \"insecure-registries\": [ \"192.168.199.100:5000\" ] } ","description":"","tags":["docker"],"title":"docker ä»“åº“","uri":"/posts/docker%E4%BB%93%E5%BA%93/"},{"categories":["golang"],"content":"æ–¹æ³• https://www.pengrl.com/p/41755/\n1 2 3 4 5 6 7 8 # ç¼–è¯‘å‡ºå¸¦æ£€æµ‹çš„ç¨‹åº $go build -race # è·‘testæ—¶å¸¦æ£€æµ‹åŠŸèƒ½ $go test -race # ç›´æ¥å…è®¸ä¹Ÿå¯ä»¥æ·»åŠ  $go run -race main.go è¯¥æ–¹æ³•æ˜¯è¿è¡Œæ—¶æ£€æµ‹ï¼Œè€Œéé™æ€ä»£ç æ£€æµ‹ã€‚è·‘ test å’Œè·‘ç¨‹åºæ—¶éƒ½å¯ä»¥æ·»åŠ è¯¥å‚æ•°æ¥æ£€æµ‹ã€‚\nè¿è¡Œæ—¶é¢å¤–æ¶ˆè€— ä¸€èˆ¬æ¥è¯´ï¼Œå†…å­˜ä¼šå¢åŠ  5 åˆ° 10 å€ï¼Œæ‰§è¡Œæ—¶é—´å¢åŠ  2 åˆ° 20 å€ã€‚\nä¸ªäººå»ºè®®åœ¨å¼€å‘ç¯å¢ƒå¯¹æ€§èƒ½è¦æ±‚ä¸é«˜æ—¶å¯é»˜è®¤æ‰“å¼€ raceï¼Œåœ¨é¡¹ç›®è¾¾åˆ°ä¸€å®šé˜¶æ®µï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ race è·‘ä¸€äº›å‹æµ‹åšæ£€æŸ¥ã€‚\n","description":"","tags":["golang"],"title":"Go ç«æ€æ£€æµ‹","uri":"/posts/go-race/"},{"categories":["golang"],"content":"go build -ldflags æœ‰å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 package main import ( \"fmt\" ) var Version = \"undefined\" func main() { fmt.Println(\"Version:\", Version) } ç¬¬ä¸€ç§ç”¨æ³•ï¼š\n1 2 3 4 5 $ go run main.go Version: undefined $ go run -ldflags '-X main.Version=1.0' main.go Version: 1.0 ç¬¬äºŒç§ç”¨æ³•ï¼š\n1 \"-X main.Version=`{shell cmd}`\" 1 2 3 4 5 $ git rev-parse HEAD 90cb4c8a3376b967960a2185b3acc669734f5e33 $ go run -ldflags \"-X main.Version=`git rev-parse HEAD`\" main.go Version: 90cb4c8a3376b967960a2185b3acc669734f5e33 go build -trimpath å‚æ•°-trimpathå¯ä»¥å»é™¤ GOPATHï¼Œåœ¨æ‰“å°æ—¥å¿—å’Œ panic ä¿¡æ¯æ—¶æœ‰ç”¨ã€‚\næœ‰å¦‚ä¸‹ç¤ºä¾‹ä»£ç \n1 2 3 4 5 package main func main() { panic(\"err\") } ç›´æ¥go buildï¼š\n1 2 3 4 5 6 $ go build \u0026\u0026 ./demo panic: err goroutine 1 [running]: main.main() /Users/admin/demo/main.go:4 +0x25 åŠ å‚æ•°-trimpathåï¼š\n1 2 3 4 5 6 $ go build -trimpath \u0026\u0026 ./demo panic: err goroutine 1 [running]: main.main() demo/main.go:4 +0x25 CGO_ENABLED=0 go build é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡go envçœ‹åˆ°CGO_ENABLED=1çš„è®¾ç½®ï¼Œè¡¨ç¤ºä¸å°†ç¨‹åºä¾èµ–çš„ libc ä¸€èµ·ç¼–è¯‘åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ docker çš„æ—¶å€™ç»å¸¸ä¼šé‡åˆ°ç¨‹åºè¿è¡Œä¸èµ·æ¥ï¼Œå¹¶ä¸”ä¸€èˆ¬æŠ¥çš„é”™è¯¯æ˜¯not found, ç¼–è¯‘æ—¶è®¾ç½®CGO_ENABLED=0ç¯å¢ƒå˜é‡å³å¯è§£å†³ã€‚\nä¾‹å¦‚ï¼š\n1 CGO_ENABLED=0 go build main.go go vet ./... ç”¨æ¥æ£€æµ‹ä¸€äº›åŸºç¡€æˆ–å¸¸è§é”™è¯¯ï¼Œæ¯”å¦‚ fmt.Printf(\"%d\", \"hello\")ï¼Œå­—ç¬¦ä¸²å½“æ•°å­— print\ngo build -race ç”¨æ¥è¿›è¡Œé™æ€ç«äº‰æ£€æµ‹\n","description":"","tags":["golang"],"title":"Go ç¼–è¯‘ tips","uri":"/posts/go-cc-tips/"},{"categories":["å…¶ä»–"],"content":"\n","description":"","tags":["å…¶ä»–"],"title":"å¼€æºåè®®åŒºåˆ«","uri":"/posts/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%8C%BA%E5%88%AB/"},{"categories":["golang"],"content":"https://segmentfault.com/a/1190000022030353\nhttps://www.51cto.com/article/678037.html\n","description":"","tags":["golang"],"title":"Go çš„ gc","uri":"/posts/go-gc/"},{"categories":["redis"],"content":"å¦‚æœè¯·æ±‚ A æŠ¢åˆ°äº†é”ï¼Œä½†æ˜¯ä¸šåŠ¡å¤„ç†æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´åˆ†å¸ƒå¼é”è¢« Redis é‡Šæ”¾ï¼Œæ­¤æ—¶è¯·æ±‚ B è¿‡æ¥çš„æ—¶å€™ï¼Œä¼šé€ æˆå¹¶å‘é—®é¢˜ï¼Œå¯¼è‡´ä¸šåŠ¡å‡ºé”™ï¼Œæ€ä¹ˆè§£å†³ã€‚\nåªéœ€è¦åœ¨è¯·æ±‚ A è·å¾—é”çš„åŒæ—¶ï¼Œåˆ›å»ºä¸€ä¸ªç›‘æ§ç¨‹åºï¼Œå½“ä»»åŠ¡æœªå¤„ç†å®Œï¼Œè€Œé”å¿«è¿‡æœŸçš„æ—¶å€™ï¼Œå»¶é•¿é”çš„è¿‡æœŸæ—¶é—´å³å¯ã€‚\nhttps://www.51cto.com/article/742568.html\n","description":"","tags":["redis"],"title":"åˆ†å¸ƒå¼é”æå‰è¿‡æœŸ","uri":"/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E6%8F%90%E5%89%8D%E8%BF%87%E6%9C%9F/"},{"categories":["ç®—æ³•"],"content":"å‚è€ƒï¼š\nhttps://halfrost.com/lru_lfu_interview/\nhttps://developer.aliyun.com/article/928903\nä½¿ç”¨ map + åŒå‘é“¾è¡¨çš„æ–¹å¼å®ç° LRUï¼š\nåŒå‘é“¾è¡¨å­˜å‚¨æ•°æ®\nmap å­˜å‚¨é“¾è¡¨çš„æŒ‡é’ˆ\næ›´æ–°æ—¶ï¼Œmap åˆ¤æ–­åœ¨ä¸åœ¨é“¾è¡¨é‡Œï¼Œåœ¨çš„è¯å°†è¯¥èŠ‚ç‚¹æ”¾åˆ°å¤´éƒ¨ï¼Œä½¿ç”¨åŒå‘æŒ‡é’ˆæ‰¾åˆ°å‰åçš„èŠ‚ç‚¹å¹¶è¿æ¥èµ·æ¥ã€‚\n","description":"","tags":["ç®—æ³•"],"title":"LRU","uri":"/posts/lru/"},{"categories":["golang"],"content":"å‚è€ƒï¼šhttps://learnku.com/articles/41728\nGï¼šåç¨‹ Pï¼šè°ƒåº¦å™¨ Mï¼šæ“ä½œç³»ç»Ÿçº¿ç¨‹\nä¸ªæ•°å…³ç³»ï¼š ","description":"","tags":["golang"],"title":"Go çš„ GPM æ¨¡å‹","uri":"/posts/go-gpm/"},{"categories":["golang"],"content":"æ¦‚å¿µ æ‰€è°“å†…å­˜é€ƒé€¸ï¼ŒæŒ‡çš„æ˜¯åŸæ¥åº”è¯¥åˆ†é…åœ¨æ ˆä¸Šçš„å˜é‡ï¼Œè¢«åˆ†é…åˆ°äº†å †ä¸Šã€‚\nä¸ºä»€ä¹ˆéœ€è¦å…³æ³¨å†…å­˜é€ƒé€¸ æ ˆä¸Šçš„å†…å­˜ä¸éœ€è¦ GCï¼Œå †ä¸Šçš„å†…å­˜éœ€è¦ GCã€‚ å †ä¸Šåˆ†é…çš„å†…å­˜çš„æ•ˆç‡ä½äºæ ˆã€‚ å®‰å…¨é—®é¢˜ã€‚ã€‚ã€‚ï¼Ÿ æ‰€ä»¥å†…å­˜é€ƒé€¸åˆ†ææœ‰åŠ©äºå‡å°‘ GC å‹åŠ›ã€‚\nä¸¾ä¾‹ å‡½æ•°ä¸­ç”³è¯·å¤§åˆ‡ç‰‡ï¼Œæ‰€éœ€å†…å­˜è¶…è¿‡äº†æ ˆçš„é™åˆ¶ï¼Œä¼šè¢«åˆ†é…åˆ°å †ä¸Š 1 var slice = make([]string, 999999999999) å‡½æ•°è¿”å›äº†å¯¹è±¡çš„æŒ‡é’ˆ 1 2 3 4 5 6 7 8 type User struct { name string } func T() *User { user := new(User) return user } å‡½æ•°ä¸­åˆ›å»ºçš„å˜é‡ï¼Œèµ‹å€¼ç»™äº†å…¨å±€å˜é‡ 1 2 3 4 5 6 var s []int func T(){ s = make([]int, 10) return } ","description":"","tags":["golang"],"title":"Go å†…å­˜é€ƒé€¸","uri":"/posts/go%E5%86%85%E5%AD%98%E9%80%83%E9%80%B8/"},{"categories":["æ¶ˆæ¯é˜Ÿåˆ—"],"content":"å‚è€ƒï¼šhttps://rocketmq.apache.org/zh/docs/featureBehavior/04transactionmessage/\nç®€å•è®²ï¼Œä¸šåŠ¡ä¸Šçš„äº‹åŠ¡åŒ…å«ï¼ˆæ•°æ®åº“äº‹åŠ¡ + æ¶ˆæ¯äº‹åŠ¡ï¼‰ï¼ŒåŸå…ˆç”Ÿäº§è€…åªèƒ½æ§åˆ¶æ•°æ®åº“äº‹åŠ¡çš„æäº¤æˆ–å›æ»šï¼ŒRocketMQ ä½¿ç”¨æ¶ˆæ¯ç¡®è®¤çš„æœºåˆ¶å°†è¿™ä¸¤è€…è¿›è¡Œäº†å…³è”ï¼Œå¤§è‡´ä»£ç æ‰§è¡Œé€»è¾‘ä¸ºï¼š\nç”Ÿäº§è€…è®¾ç½®æ¶ˆæ¯å›æŸ¥æ¥å£ï¼ˆä¾› mq æŸ¥è¯¢äº‹åŠ¡æ˜¯å¦å®Œæˆï¼‰ ç”Ÿäº§è€…å…ˆå‘é€åŠæ¶ˆæ¯ æ‰§è¡Œæ•°æ®åº“äº‹åŠ¡ æœ¬åœ°äº‹åŠ¡æäº¤ æäº¤æ¶ˆæ¯äº‹åŠ¡ å¤„ç† mq å›æŸ¥æ¶ˆæ¯ï¼Œè¿”å›æœ¬åœ°äº‹åŠ¡ç»“æœ ","description":"","tags":["æ¶ˆæ¯é˜Ÿåˆ—"],"title":"rocketmq äº‹åŠ¡æ¶ˆæ¯","uri":"/posts/rocketmq%E4%BA%8B%E5%8A%A1%E6%B6%88%E6%81%AF/"},{"categories":["æ¶ˆæ¯é˜Ÿåˆ—"],"content":"å‚è€ƒï¼š\nhttps://www.tizi365.com/question/4832.html\nhttps://www.cnblogs.com/FlyAway2013/p/10124283.html\nç®€å•çš„è®²ï¼Œå°±æ˜¯ç”Ÿäº§æ–¹éœ€è¦å¤šç»´æŠ¤ä¸€ä¸ªå·²å‘é€æ¶ˆæ¯çš„æ•°æ®è¡¨ï¼ˆä¸ä¸šåŠ¡è¡¨åœ¨ä¸€ä¸ªåº“ï¼Œæ–¹ä¾¿æ‰§è¡Œä¸šåŠ¡äº‹åŠ¡ï¼‰ï¼Œå‘é€å®Œ MQ æ¶ˆæ¯åç­‰å¾…æ¶ˆè´¹æ–¹å›è°ƒåå†æ›´æ–°æœ¬åœ°æ¶ˆæ¯è¡¨ã€‚\nå¦‚æœæ¶ˆè´¹æ–¹æ²¡æœ‰å›è°ƒï¼Œåˆ™æœ¬åœ°å®šæ—¶ä»»åŠ¡è¿›è¡Œé‡æ–°æŠ•é€’ç¡®è®¤ï¼Œç¡®ä¿æœ€ç»ˆä¸€è‡´æ€§ã€‚\nå¦‚æœä½¿ç”¨æ”¯æŒäº‹åŠ¡æ¶ˆæ¯çš„ RocketMQï¼Œå¯ä»¥ç®€åŒ–è¿™ä¸ªæ­¥éª¤ï¼Œä¸éœ€è¦ç»´æŠ¤æœ¬åœ°æ¶ˆæ¯è¡¨ã€‚\n","description":"","tags":["æ¶ˆæ¯é˜Ÿåˆ—"],"title":"æœ¬åœ°æ¶ˆæ¯è¡¨","uri":"/posts/%E6%9C%AC%E5%9C%B0%E6%B6%88%E6%81%AF%E8%A1%A8/"},{"categories":["ç®—æ³•"],"content":"\n","description":"","tags":["ç®—æ³•"],"title":"map-reduce","uri":"/posts/map-reduce/"},{"categories":["linux"],"content":" 1 2 3 4 5 # ä»…ä»…æ˜¯ä¸å¯ç”¨ $ systemctl disable YOUR_SERVICE # å±è”½æœåŠ¡ï¼Œæ— æ³•ä½¿ç”¨systemctl start YOUR_SERVICE $ systemctl mask YOUR_SERVICE ","description":"","tags":["linux"],"title":"systemctl","uri":"/posts/systemctl/"},{"categories":["mysql"],"content":"é—´éš™é”äº§ç”Ÿçš„æ¡ä»¶ ä½¿ç”¨ \u003e ã€ \u003c ã€between ç­‰åŒºé—´æ¡ä»¶ delete ä¸å­˜åœ¨çš„æ•°æ® é—´éš™é”çš„ä¾‹å­ å½“æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå‚æ•°å»åˆ é™¤ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¦‚æœå‚æ•°åœ¨æ•°æ®åº“ä¸­å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™äº§ç”Ÿçš„æ˜¯æ™®é€šè¡Œé”ï¼Œé”ä½è¿™ä¸ªè®°å½•ï¼Œç„¶ååˆ é™¤ï¼Œç„¶åé‡Šæ”¾é”ã€‚å¦‚æœè¿™æ¡è®°å½•ä¸å­˜åœ¨ï¼Œé—®é¢˜å°±æ¥äº†ï¼Œæ•°æ®åº“ä¼šæ‰«æç´¢å¼•ï¼Œå‘ç°è¿™ä¸ªè®°å½•ä¸å­˜åœ¨ï¼Œè¿™ä¸ªæ—¶å€™çš„ delete è¯­å¥è·å–åˆ°çš„å°±æ˜¯ä¸€ä¸ªé—´éš™é”ï¼Œç„¶åæ•°æ®åº“ä¼šå‘å·¦æ‰«ææ‰«åˆ°ç¬¬ä¸€ä¸ªæ¯”ç»™å®šå‚æ•°å°çš„å€¼ï¼Œå‘å³æ‰«ææ‰«æåˆ°ç¬¬ä¸€ä¸ªæ¯”ç»™å®šå‚æ•°å¤§çš„å€¼ï¼Œç„¶åä»¥æ­¤ä¸ºç•Œï¼Œæ„å»ºä¸€ä¸ªåŒºé—´ï¼Œé”ä½æ•´ä¸ªåŒºé—´å†…çš„æ•°æ®ã€‚\næ€»ç»“ ä¸¤ä¸ªäº‹åŠ¡å³ä½¿ç”Ÿæˆçš„é—´éš™é” (next-key é”) çš„èŒƒå›´æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿä¸ä¼šå‘ç”Ÿå†²çªï¼Œå› ä¸ºé—´éš™é”ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å…¶ä»–äº‹åŠ¡æ’å…¥æ•°æ®ï¼Œå› æ­¤é—´éš™é”ä¸é—´éš™é”ä¹‹é—´æ˜¯ç›¸äº’å…¼å®¹çš„ã€‚\nåœ¨æ‰§è¡Œæ’å…¥è¯­å¥æ—¶ï¼Œå¦‚æœæ’å…¥çš„è®°å½•åœ¨å…¶ä»–äº‹åŠ¡æŒæœ‰é—´éš™é”èŒƒå›´å†…ï¼Œæ’å…¥è¯­å¥å°±ä¼šè¢«é˜»å¡ï¼Œå› ä¸ºæ’å…¥è¯­å¥åœ¨ç¢°åˆ°é—´éš™é”æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ’å…¥æ„å‘é”ï¼Œç„¶åæ’å…¥æ„å‘é”å’Œé—´éš™é”ä¹‹é—´æ˜¯äº’æ–¥çš„å…³ç³»ã€‚\nå¦‚æœä¸¤ä¸ªäº‹åŠ¡åˆ†åˆ«å‘å¯¹æ–¹æŒæœ‰çš„é—´éš™é”èŒƒå›´å†…æ’å…¥ä¸€æ¡è®°å½•ï¼Œè€Œæ’å…¥æ“ä½œä¸ºäº†è·å–åˆ°æ’å…¥æ„å‘é”ï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹äº‹åŠ¡çš„é—´éš™é”é‡Šæ”¾ï¼Œäºæ˜¯å°±é€ æˆäº†å¾ªç¯ç­‰å¾…ï¼Œæ»¡è¶³äº†æ­»é”çš„å››ä¸ªæ¡ä»¶ï¼šäº’æ–¥ã€å æœ‰ä¸”ç­‰å¾…ã€ä¸å¯å¼ºå ç”¨ã€å¾ªç¯ç­‰å¾…ï¼Œå› æ­¤å‘ç”Ÿäº†æ­»é”ã€‚\nå‚è€ƒè¿æ¥ https://cloud.tencent.com/developer/article/1806998\nhttps://www.xiaolincoding.com/mysql/lock/show_lock.html\n","description":"","tags":["mysql"],"title":"é—´éš™é”å’Œæ­»é”","uri":"/posts/%E9%97%B4%E9%9A%99%E9%94%81%E5%92%8C%E6%AD%BB%E9%94%81/"},{"categories":["mysql"],"content":"åœ¨ SQL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ COUNT å‡½æ•°æ¥è®¡ç®—æŸä¸ªè¡¨ä¸­æŸä¸ªåˆ—çš„è¡Œæ•°ã€‚ä½†æ˜¯ï¼Œæœ‰äº›äººå¯èƒ½ä¸çŸ¥é“ COUNT() å‡½æ•°æœ‰ä¸‰ç§ä¸åŒçš„ç”¨æ³•ï¼šcount(*)ï¼Œcount(1)ï¼Œå’Œ count(åˆ—)ã€‚è¿™ä¸‰ç§ç”¨æ³•çš„åŒºåˆ«å¦‚ä¸‹ï¼š\ncount(*) count(*) ä¼šç»Ÿè®¡è¡¨ä¸­æ‰€æœ‰è¡Œçš„æ•°é‡ï¼ŒåŒ…æ‹¬ NULL å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¡¨æœ‰ 10 è¡Œï¼Œå…¶ä¸­æœ‰ 2 è¡Œçš„åˆ—å€¼æ˜¯ NULLï¼Œé‚£ä¹ˆ count(*) å°†è¿”å› 10ã€‚\ncount(1) count(1) ä¹Ÿä¼šç»Ÿè®¡è¡¨ä¸­æ‰€æœ‰è¡Œçš„æ•°é‡ï¼ŒåŒ…æ‹¬ NULL å€¼ã€‚ä½†æ˜¯ï¼Œå®ƒä¸ä¼šå®é™…æ£€ç´¢ä»»ä½•æ•°æ®ï¼Œè€Œæ˜¯ä½¿ç”¨æ•°å­— 1 æ¥ä»£æ›¿æ¯ä¸€è¡Œçš„å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¡¨æœ‰ 10 è¡Œï¼Œå…¶ä¸­æœ‰ 2 è¡Œçš„åˆ—å€¼æ˜¯ NULLï¼Œé‚£ä¹ˆ count(1) å°†è¿”å› 10ã€‚\ncount(åˆ—) count(åˆ—) åªä¼šç»Ÿè®¡åˆ—ä¸­é NULL å€¼çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¡¨æœ‰ 10 è¡Œï¼Œå…¶ä¸­æœ‰ 2 è¡Œçš„åˆ—å€¼æ˜¯ NULLï¼Œè€Œå…¶ä»– 8 è¡Œçš„åˆ—å€¼æ˜¯é NULL å€¼ï¼Œé‚£ä¹ˆ count(åˆ—) å°†è¿”å› 8ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œcount(*) å’Œ count(1) ä¼šç»Ÿè®¡è¡¨ä¸­æ‰€æœ‰è¡Œçš„æ•°é‡ï¼ŒåŒ…æ‹¬ NULL å€¼ï¼Œè€Œ count(åˆ—) åªä¼šç»Ÿè®¡åˆ—ä¸­é NULL å€¼çš„æ•°é‡ã€‚åœ¨ä½¿ç”¨ COUNT() å‡½æ•°æ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©ä¸åŒçš„ç”¨æ³•ã€‚\nå»ºè¡¨è¯­å¥ï¼š\n1 2 3 4 5 CREATE TABLE `users` ( `id` int NOT NULL AUTO_INCREMENT, `username` varchar(50) DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB ","description":"","tags":["mysql"],"title":"MySQL count(*)ã€count(1)ã€count(åˆ—) çš„åŒºåˆ«","uri":"/posts/mysql-count/"},{"categories":["mysql"],"content":"æŸ¥çœ‹ç”¨æˆ· 1 SELECT* FROM mysql.user;` åˆ›å»ºç”¨æˆ· 1 2 3 CREATE USER 'testuser'@'localhost' IDENTIFIED BY 'password'; CREATE USER 'testuser'@'192.168.10.100' IDENTIFIED BY 'password'; CREATE USER 'testuser'@'%' IDENTIFIED BY 'password'; æˆæƒ 1 2 3 GRANT ALL PRIVILEGES ON testdb.* TO 'testuser'@'localhost'; GRANT ALL PRIVILEGES ON *.* TO 'testuser'@'localhost'; GRANT SELECT, INSERT, DELETE ON testdb1.* TO testuser@'localhost'; æŒä¹…åŒ–æƒé™é…ç½® ä¸€èˆ¬ä¸éœ€è¦æ‰§è¡Œ\ngrant ä¹‹åè¦è·Ÿç€ flush privileges å—ï¼Ÿ-æå®¢æ—¶é—´\n1 flush privileges; æŸ¥çœ‹æƒé™ 1 SHOW GRANTS FOR 'testuser'@'localhost'; ","description":"","tags":["mysql"],"title":"MySQL8 åˆ›å»ºç”¨æˆ·å’Œæˆæƒ","uri":"/posts/mysql-create-user-auth/"},{"categories":["mysql"],"content":" 1 2 3 4 5 6 7 $ mysql -u root -p \u003e use mysql; \u003e GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION; \u003e FLUSH PRIVILEGES; ","description":"","tags":["mysql"],"title":"MySQL å…è®¸ root è¿œç¨‹è®¿é—®","uri":"/posts/mysql-remote-root/"},{"categories":["mysql"],"content":"å‚è€ƒ è®²çš„æ¯”è¾ƒæ¸…æ™°çš„ï¼šhttps://www.51cto.com/article/679914.html\nç†è®º MySQL ä¸­äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸€å…±åˆ†ä¸ºå››ç§ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š\nåºåˆ—åŒ– (SERIALIZABLE) å¯é‡å¤è¯» (REPEATABLE READ) æäº¤è¯» (READ COMMITTED) æœªæäº¤è¯» (READ UNCOMMITTED) å››ç§ä¸åŒçš„éš”ç¦»çº§åˆ«å«ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š\n1ï¼‰.SERIALIZABLE\nå¦‚æœéš”ç¦»çº§åˆ«ä¸ºåºåˆ—åŒ–ï¼Œåˆ™ç”¨æˆ·ä¹‹é—´é€šè¿‡ä¸€ä¸ªæ¥ä¸€ä¸ªé¡ºåºåœ°æ‰§è¡Œå½“å‰çš„äº‹åŠ¡ï¼Œè¿™ç§éš”ç¦»çº§åˆ«æä¾›äº†äº‹åŠ¡ä¹‹é—´æœ€å¤§é™åº¦çš„éš”ç¦»ã€‚\n2ï¼‰.REPEATABLE READï¼ˆé»˜è®¤çº§åˆ«ï¼‰\nåœ¨å¯é‡å¤è¯»åœ¨è¿™ä¸€éš”ç¦»çº§åˆ«ä¸Šï¼Œäº‹åŠ¡ä¸ä¼šè¢«çœ‹æˆæ˜¯ä¸€ä¸ªåºåˆ—ã€‚ä¸è¿‡ï¼Œå½“å‰æ­£åœ¨æ‰§è¡Œäº‹åŠ¡çš„å˜åŒ–ä»ç„¶ä¸èƒ½è¢«å¤–éƒ¨çœ‹åˆ°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”¨æˆ·åœ¨å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡ŒåŒæ¡ SELECT è¯­å¥æ•°æ¬¡ï¼Œç»“æœæ€»æ˜¯ç›¸åŒçš„ã€‚(å› ä¸ºæ­£åœ¨æ‰§è¡Œçš„äº‹åŠ¡æ‰€äº§ç”Ÿçš„æ•°æ®å˜åŒ–ä¸èƒ½è¢«å¤–éƒ¨çœ‹åˆ°)ã€‚\n3ï¼‰.READ COMMITTED\nREAD COMMITTED éš”ç¦»çº§åˆ«çš„å®‰å…¨æ€§æ¯” REPEATABLE READ éš”ç¦»çº§åˆ«çš„å®‰å…¨æ€§è¦å·®ã€‚å¤„äº READ COMMITTED çº§åˆ«çš„äº‹åŠ¡å¯ä»¥çœ‹åˆ°å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨äº‹åŠ¡å¤„ç†æœŸé—´ï¼Œå¦‚æœå…¶ä»–äº‹åŠ¡ä¿®æ”¹äº†ç›¸åº”çš„è¡¨ï¼Œé‚£ä¹ˆåŒä¸€ä¸ªäº‹åŠ¡çš„å¤šä¸ª SELECT è¯­å¥å¯èƒ½è¿”å›ä¸åŒçš„ç»“æœã€‚\n4ï¼‰.READ UNCOMMITTED\nREAD UNCOMMITTED æä¾›äº†äº‹åŠ¡ä¹‹é—´æœ€å°é™åº¦çš„éš”ç¦»ã€‚é™¤äº†å®¹æ˜“äº§ç”Ÿè™šå¹»çš„è¯»æ“ä½œå’Œä¸èƒ½é‡å¤çš„è¯»æ“ä½œå¤–ï¼Œå¤„äºè¿™ä¸ªéš”ç¦»çº§çš„äº‹åŠ¡å¯ä»¥è¯»åˆ°å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œå¦‚æœè¿™ä¸ªäº‹åŠ¡ä½¿ç”¨å…¶ä»–äº‹åŠ¡ä¸æäº¤çš„å˜åŒ–ä½œä¸ºè®¡ç®—çš„åŸºç¡€ï¼Œç„¶åé‚£äº›æœªæäº¤çš„å˜åŒ–è¢«å®ƒä»¬çš„çˆ¶äº‹åŠ¡æ’¤é”€ï¼Œè¿™å°±å¯¼è‡´äº†å¤§é‡çš„æ•°æ®å˜åŒ–ã€‚\nåœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯ REPEATABLE READ Q\u0026A Q: åœ¨è¯»æœªæäº¤éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¿«ç…§æ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæˆçš„ï¼Ÿ\nA: æ²¡æœ‰å¿«ç…§ï¼Œå› ä¸ºä¸éœ€è¦ï¼Œæ€ä¹ˆè¯»éƒ½è¯»åˆ°æœ€æ–°çš„ã€‚ä¸ç®¡æ˜¯å¦æäº¤\nQ: åœ¨è¯»å·²æäº¤éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¿«ç…§æ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæˆçš„ï¼Ÿ\nA: SQL è¯­å¥å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ã€‚\nQ: åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¿«ç…§æ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæˆçš„ï¼Ÿ\nA: äº‹åŠ¡å¼€å§‹çš„æ—¶å€™ã€‚\n","description":"","tags":["mysql"],"title":"MySQL äº‹åŠ¡","uri":"/posts/mysql-transaction/"},{"categories":["mysql"],"content":"SQL æ‰§è¡Œè¿‡ç¨‹ ä¸ºä»€ä¹ˆä½¿ç”¨ B+ æ•° ä¸€å¥è¯ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ã€‚B+ æ•°åªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œå…¶ä»–èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ç´¢å¼•ï¼›\nå› ä¸º MySQL æ˜¯ä»¥é¡µä¸ºåŸºæœ¬å•ä½è¯»å–æ•°æ®çš„ï¼ŒåŒæ—¶ B+ æ ‘ä¸­çš„èŠ‚ç‚¹å¤§å°ä¹Ÿæ˜¯é¡µï¼ŒB+ æ ‘éå¶å­èŠ‚ç‚¹ç”¨æ¥å­˜æ”¾ç´¢å¼•è€Œä¸æ˜¯å®é™…çš„ä¸šåŠ¡æ•°æ®ï¼Œæ‰€ä»¥æ¯é¡µï¼ˆæ¯ä¸ªèŠ‚ç‚¹ï¼‰å¯ä»¥å­˜å‚¨æ›´å¤šæ¡è®°å½•ï¼Œæ‰€ä»¥æ ‘çš„é«˜åº¦æ›´ä½ï¼Œæ‰€ä»¥æŸ¥è¯¢æ•°æ®éœ€è¦çš„ç£ç›˜ IO æ›´å°‘ã€‚\nä»€ä¹ˆæ˜¯ç´¢å¼• ç´¢å¼•æ˜¯ MySQL ä¸ºäº†åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ç”Ÿæˆçš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œæ¯ä¸€ä¸ªç´¢å¼•éƒ½å¯¹åº”ä¸€é¢— B+ æ ‘ã€‚\nç´¢å¼•çš„ç¼ºç‚¹æ˜¯å ç”¨ç£ç›˜ç©ºé—´ã€é™ä½æ•°æ®æ›´æ–°æ€§èƒ½ã€‚\nå‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/481750465 ç´¢å¼•æœ‰å‡ ç§ç±»å‹ èšç°‡ç´¢å¼•ï¼ˆä¸€çº§ç´¢å¼•ï¼‰ ä¸»é”®ç´¢å¼• éèšç°‡ç´¢å¼•ï¼ˆäºŒçº§ç´¢å¼•ï¼‰ æ™®é€šç´¢å¼• å”¯ä¸€ç´¢å¼• è”åˆç´¢å¼• å…¨æ–‡ç´¢å¼• ä»€ä¹ˆæ˜¯å‰ç¼€ç´¢å¼• å‰ç¼€ç´¢å¼•èƒ½æœ‰æ•ˆå‡å°ç´¢å¼•æ–‡ä»¶çš„å¤§å°ï¼Œè®©æ¯ä¸ªç´¢å¼•é¡µå¯ä»¥ä¿å­˜æ›´å¤šçš„ç´¢å¼•å€¼ï¼Œä»è€Œæé«˜äº†ç´¢å¼•æŸ¥è¯¢çš„é€Ÿåº¦ã€‚ä½†å‰ç¼€ç´¢å¼•ä¹Ÿæœ‰å®ƒçš„ç¼ºç‚¹ï¼Œä¸èƒ½åœ¨ order by æˆ–è€… group by ä¸­è§¦å‘å‰ç¼€ç´¢å¼•ï¼Œä¹Ÿä¸èƒ½æŠŠå®ƒä»¬ç”¨äºè¦†ç›–ç´¢å¼•ã€‚\nå‚è€ƒï¼šhttps://blog.51cto.com/u_15311952/3186968\nåˆ›å»ºç´¢å¼•çš„åŸåˆ™ ç»™ where åé¢ç»å¸¸ç”¨åˆ°çš„å­—æ®µåŠ ç´¢å¼•\næ•°æ®é‡å¾ˆå°çš„è¡¨å¯ä»¥ä¸åˆ›å»ºç´¢å¼•ï¼Œå¯èƒ½ä¼šå˜æ…¢\nåˆ—å€¼é‡å¤åº¦é«˜çš„ä¸è¦åˆ›å»ºç´¢å¼•ï¼Œæ²¡æ•ˆæœ\nç´¢å¼•çš„æ•°é‡ä¸è¦å¤ªå¤šï¼Œå»ºè®® 3-5 ä¸ª\nç´¢å¼•å°½é‡çš„çŸ­ï¼Œå¯ä»¥ä½¿ B+ æ ‘èŠ‚ç‚¹å­˜å‚¨æ›´å¤šçš„ç´¢å¼•é‡\nå¯ä»¥é•¿åº¦å¾ˆé•¿çš„åˆ—å€¼åˆ›å»ºå‰ç¼€ç´¢å¼•\nå‚è€ƒï¼šhttps://www.jianshu.com/p/fc80445044cc\nä»€ä¹ˆæƒ…å†µä¸‹ç´¢å¼•å¤±æ•ˆ è¿åæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼Œå¦‚ç»„åˆç´¢å¼• idx_name_phoneï¼Œwhere phone=12345 ä¸ç”¨ç´¢å¼•ï¼Œwhere name=â€abcâ€ä½¿ç”¨äº†ç´¢å¼•ï¼Œwhere name=â€abcâ€and phone=12345 ä¹Ÿä½¿ç”¨ç´¢å¼•ã€‚ ä½¿ç”¨åå‘æŸ¥è¯¢ï¼ˆâ‰  ã€\u003c\u003eã€not likeï¼‰ ä½¿ç”¨ likeâ€œ%abcâ€è¿™ç§æŸ¥è¯¢æ¡ä»¶ï¼Œä½†æ˜¯ likeâ€œabc%â€ä¸å½±å“ã€‚ ä½¿ç”¨ORè¿æ¥çš„æŸ¥è¯¢è¯­å¥ï¼Œå¦‚æœORä¹‹å‰çš„æ¡ä»¶åˆ—æ˜¯ç´¢å¼•åˆ—ï¼Œä½†æ˜¯ORä¹‹åçš„æ¡ä»¶åˆ—ä¸æ˜¯ç´¢å¼•åˆ—ï¼Œåˆ™ä¸ä¼šä½¿ç”¨ç´¢å¼•ã€‚ å¯¹ç´¢å¼•åˆ—ä½¿ç”¨å‡½æ•°ã€è®¡ç®—ã€ç±»å‹è½¬æ¢ç­‰æ“ä½œ ä»€ä¹ˆæ˜¯å›è¡¨ å¦‚æœç´¢å¼•çš„åˆ—åœ¨ select æ‰€éœ€è·å¾—çš„åˆ—ä¸­ï¼ˆå› ä¸ºåœ¨ mysql ä¸­ç´¢å¼•æ˜¯æ ¹æ®ç´¢å¼•åˆ—çš„å€¼è¿›è¡Œæ’åºçš„ï¼Œæ‰€ä»¥ç´¢å¼•èŠ‚ç‚¹ä¸­å­˜åœ¨è¯¥åˆ—ä¸­çš„éƒ¨åˆ†å€¼ï¼‰æˆ–è€…æ ¹æ®ä¸€æ¬¡ç´¢å¼•æŸ¥è¯¢å°±èƒ½è·å¾—è®°å½•å°±ä¸éœ€è¦å›è¡¨ï¼Œå¦‚æœ select æ‰€éœ€è·å¾—åˆ—ä¸­æœ‰å¤§é‡çš„éç´¢å¼•åˆ—ï¼Œç´¢å¼•å°±éœ€è¦åˆ°è¡¨ä¸­æ‰¾åˆ°ç›¸åº”çš„åˆ—çš„ä¿¡æ¯ï¼Œè¿™å°±å«å›è¡¨ã€‚\nä»€ä¹ˆæ˜¯ç´¢å¼•è¦†ç›– æŸ¥è¯¢çš„å­—æ®µåŒ…å«åœ¨ç´¢å¼•é‡Œé¢ï¼Œä¸éœ€è¦å›è¡¨ï¼Œç§°ä¸ºç´¢å¼•è¦†ç›–ã€‚\nåªéœ€è¦åœ¨ä¸€æ£µç´¢å¼•æ ‘ä¸Šå°±èƒ½è·å– SQL æ‰€éœ€çš„æ‰€æœ‰åˆ—æ•°æ®ï¼Œæ— éœ€å›è¡¨ï¼Œé€Ÿåº¦æ›´å¿«ã€‚\nexplain çš„è¾“å‡ºç»“æœ Extra å­—æ®µä¸º Using index æ—¶ï¼Œèƒ½å¤Ÿè§¦å‘ç´¢å¼•è¦†ç›–ã€‚\nMySQL çš„é”æœºåˆ¶ é”å’Œç´¢å¼•å…³ç³»å¯†åˆ‡ã€‚update é»˜è®¤å¼€å¯äº‹åŠ¡ï¼Œæ ¹æ® where æ¡ä»¶å†³å®š\næœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ï¼š\nè¡Œé”ï¼šé”ä½è¦æ›´æ–°çš„ 1 è¡Œæˆ–å¤šè¡Œï¼Œæ¯”å¦‚ id \u003e xx\nè®°å½•é”ï¼šå¯¹å­˜åœ¨çš„è¡ŒåŠ é”ã€‚ é—´éš™é”ï¼šå¯¹ä¸å­˜åœ¨çš„è¡ŒåŠ é”ã€‚ ä¸´å»ºé”ï¼šå¯èƒ½ä¼šé”ä½ä¸€äº›ä¸å­˜åœ¨çš„è¡Œï¼Œæ¯”å¦‚æ•°æ®åº“é‡Œåªæœ‰ ID=101ï¼ŒID=105ï¼ŒID=106 çš„è¡Œï¼Œä½†æ˜¯æ‰§è¡Œçš„æ˜¯ where id \u003e 100ï¼Œæ­¤æ—¶å¯¹ ID=200ï¼ŒID=102 ç­‰çš„è¡Œæ’å…¥ä¹Ÿæ˜¯ä¸è¡Œçš„ã€‚ æ²¡ç´¢å¼•çš„æƒ…å†µä¸‹ï¼š\nä¿®æ”¹è¡¨ç»“æ„ä¼šä½¿ç”¨è¡¨é”ï¼Œæ‰€æœ‰å¢åˆ æ”¹æŸ¥éƒ½éœ€è¦ç­‰å¾…ã€‚\nè¡¨é”ï¼šå¦‚æœæ²¡ç”¨åˆ°ç´¢å¼•ï¼Œåˆ™è¡Œé”ä¼šå‡çº§ä¸ºè¡¨é”\nä¸ºä»€ä¹ˆå»ºè®®æ•°æ®åº“è¦æœ‰ä¸»é”® ä¸ºäº†æ–¹ä¾¿æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢ï¼Œå¦‚æœæ²¡æœ‰ä¸»é”®ï¼ŒMySQL é»˜è®¤ä¼šä½¿ç”¨ä¸€ä¸ª rowid ä»£æ›¿ï¼Œä½†æ˜¯è¿™ä¸ª rowid è¾¾åˆ°ä¸Šé™åä¼šä» 0 å¼€å§‹ï¼Œå†æ’å…¥æ•°æ®ä¼šå¯¼è‡´åŸæ¥çš„æ•°æ®è®°å½•è¢«è¦†ç›–ï¼Œæ‰€ä»¥ä¸å®‰å…¨ã€‚\nå¦‚æœæŒ‡å®šäº†ä¸€ä¸ªä¸»é”® IDï¼ŒåŒæ ·è¾¾åˆ°ä¸Šé™åï¼Œå†æ¬¡æ’å…¥ä¼šæŠ¥é”™ä½†ä¸ä¼šè¦†ç›–æ•°æ®ï¼Œä¸šåŠ¡ä¸Šæ›´å®‰å…¨ã€‚\nä¸€èˆ¬ int ä¸Šé™æ˜¯ 2^32=42 äº¿ï¼Œå¦‚æœæ¢æˆ big intï¼Œä¼šæ˜¯ 2^64=æ— ç©·å¤§ã€‚\nå¦‚æœè€ƒè™‘åˆ°ä»¥åä¼šåˆ†åº“åˆ†è¡¨ï¼Œä¸å»ºè®®ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼Œå»ºè®®ä½¿ç”¨é›ªèŠ±ç®—æ³•ç”Ÿæˆä¸»é”® IDã€‚\nä¸ºä»€ä¹ˆåˆ é™¤äº†æ•°æ®ç£ç›˜æ–‡ä»¶å¤§å°ä¸å˜ é¦–å…ˆï¼ŒMySQL æ•°æ®æ˜¯æŒ‰é¡µå­˜å‚¨çš„ï¼Œå› ä¸º MySQL åˆ é™¤æ•°æ®åªæ˜¯ç»™æ•°æ®ä¸€ä¸ªå·²åˆ é™¤çš„æ ‡è®°ï¼Œå¹¶ä¸ä¼šçœŸæ­£åˆ é™¤æ•°æ®ã€‚\nMySQL æ•°æ®ç¢ç‰‡ æ•°æ®ç¢ç‰‡ä¸»è¦æ˜¯å› ä¸º MySQL åˆ é™¤æ•°æ®åå¯¼è‡´çš„æ•°æ®ç©ºæ´ï¼Œå¯ä»¥é€šè¿‡é‡æ–°å»ºè¡¨çš„æ–¹å¼æ¶ˆé™¤ã€‚\nå¦‚æœæ•°æ®åº“é‡Œæœ¬èº«æ²¡æœ‰ç©ºæ´ï¼Œæ‰§è¡Œé‡æ–°å»ºè¡¨åï¼Œå¯èƒ½ä¼šä½¿å­˜å‚¨ç©ºé—´å˜å¤§ï¼ŒåŸå› æ˜¯æ¯é¡µä¸­é™¤äº†æ•°æ®å¤–ï¼Œè¿˜è¦å­˜å‚¨å…¶ä»–çš„ä¿¡æ¯ã€‚\nè„è¯» \u0026 å¹»è¯» è„è¯»åˆç§°æ— æ•ˆæ•°æ®çš„è¯»å‡ºï¼Œæ˜¯æŒ‡åœ¨æ•°æ®åº“è®¿é—®ä¸­ï¼Œäº‹åŠ¡ T1 å°†æŸä¸€å€¼ä¿®æ”¹ï¼Œç„¶åäº‹åŠ¡ T2 è¯»å–è¯¥å€¼ï¼Œæ­¤å T1 å› ä¸ºæŸç§åŸå› æ’¤é”€å¯¹è¯¥å€¼çš„ä¿®æ”¹ï¼Œè¿™å°±å¯¼è‡´äº† T2 æ‰€è¯»å–åˆ°çš„æ•°æ®æ˜¯æ— æ•ˆçš„ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè„è¯»ä¸€èˆ¬æ˜¯é’ˆå¯¹äº update æ“ä½œçš„ã€‚\nä¸å¯é‡å¤è¯» æ˜¯æŒ‡ A äº‹åŠ¡å¼€å§‹æ—¶è¯»å–ä¸€ä¸ªç»“æœ Nï¼Œä¸­é—´å› ä¸ºå¦ä¸€ä¸ªäº‹åŠ¡ B åˆæäº¤äº†æ•°æ®ï¼Œå¯¼è‡´ A äº‹åŠ¡å†æ¬¡è¯»å–æ—¶æ‹¿åˆ°ç»“æœ Nâ€˜ ï¼Œé€ æˆå‰åæ•°æ®ä¸ä¸€è‡´ï¼Œè¿™ç§ç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚\n","description":"","tags":["mysql"],"title":"MySQL å¸¸è¯†","uri":"/posts/mysql-common/"},{"categories":["golang"],"content":"å‚è€ƒï¼šhttps://www.cnblogs.com/qcrao-2018/p/12833787.html\n","description":"","tags":["golang"],"title":"Go sync map å®ç°","uri":"/posts/go-sync-map/"},{"categories":["redis"],"content":"å“¨å…µ å‚è€ƒï¼šhttps://www.cnblogs.com/kevingrace/p/9004460.html\nsentinel ç³»ç»Ÿå¯ä»¥ç›‘è§†ä¸€ä¸ªæˆ–è€…å¤šä¸ª redis master æœåŠ¡ï¼Œä»¥åŠè¿™äº› master æœåŠ¡çš„æ‰€æœ‰ä»æœåŠ¡ï¼›å½“æŸä¸ª master æœåŠ¡ä¸‹çº¿æ—¶ï¼Œè‡ªåŠ¨å°†è¯¥ master ä¸‹çš„æŸä¸ªä»æœåŠ¡å‡çº§ä¸º master æœåŠ¡æ›¿ä»£å·²ä¸‹çº¿çš„ master æœåŠ¡ç»§ç»­å¤„ç†è¯·æ±‚ã€‚ é›†ç¾¤æ¨¡å¼ä¸‹çš„è¯·æ±‚ å‚è€ƒï¼š https://zhuanlan.zhihu.com/p/511199672\né›†ç¾¤æ¨¡å¼æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œéšä¾¿è¯·æ±‚åˆ°å“ªä¸ª master åï¼Œåˆ¤æ–­ key å±äºå“ªä¸ª hash æ§½ä»¥åŠåœ¨å“ªä¸ªæœºå™¨ä¸Šï¼Œè¿›è¡Œè¯·æ±‚è·¯ç”±ã€‚\nredis çƒ­ç‚¹ key å•æœº QPS ç“¶é¢ˆåï¼Œå¯ä»¥ç”¨é›†ç¾¤åˆ†ç‰‡ï¼Œæ¥åˆ†æ‹…è¯·æ±‚å‹åŠ›ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ª key å°±æ˜¯åœ¨æŸä¸€ä¸ªåˆ†ç‰‡ä¸Šå½¢æˆäº†çƒ­ç‚¹ key æ€ä¹ˆåŠã€‚\nå¯¹ key çš„å€¼åœ¨ä¸šåŠ¡ä¸Šæ‹†åˆ†ï¼Œä½¿å…¶åˆ†æ•£åˆ°æ›´å¤šçš„åˆ†ç‰‡ä¸Šã€‚\næˆ–è€…å¦‚æœ key å¯¹åº”çš„æ•°æ®å…è®¸æœ‰ä¸€å®šçš„è¯¯å·®ï¼Œå¯ä»¥å°†è¯¥å€¼å­˜åœ¨è¿›ç¨‹å†…å­˜é‡Œï¼ŒåšäºŒçº§ç¼“å­˜ï¼Œå®šæ—¶åŒæ­¥ redis å³å¯ã€‚\næŸ¥çœ‹å¤§ key redis-cli -h 127.0.0.1 -p 6379 --bigkeys\nä½¿ç”¨ scan æ‰«æï¼Œå¯¹æ€§èƒ½å½±å“è¾ƒå°\næŸ¥çœ‹çŠ¶æ€ redis-cli -h 127.0.0.1 -p 6379 --stat -i 3\n-i 3 æ¯éš” 3 ç§’è¾“å‡ºä¸€æ¬¡\nre-hash è¿‡ç¨‹ æ•°æ®ç»“æ„é‡Œå­˜æ”¾äº†ä¸¤ä¸ª hash ç»“æ„ï¼Œä¸€ä¸ªæ˜¯å½“å‰çš„ï¼Œä¸€ä¸ªæ˜¯ rehash æ—¶å€™ä½¿ç”¨çš„ã€‚\næ•°æ®ä»æ—§ç»“æ„å¾€æ–°ç»“æ„è¿ç§»ï¼Œä¸ºäº†ä¸å½±å“æŸ¥è¯¢å’Œæ’å…¥ï¼Œæ˜¯æ¸è¿›å¼çš„ï¼Œæ–°æ•°æ®å†™æ–°ç»“æ„ã€‚\né—®é¢˜ Qï¼šæ€ä¹ˆä¿è¯é«˜æ€§èƒ½ã€é«˜å¯ç”¨å’Œæ•°æ®ä¸ä¸¢å¤±\nä½¿ç”¨é›†ç¾¤åˆ†ç‰‡ä¿è¯è¯·æ±‚çš„ç¦»æ•£æ¥çªç ´å•æœº QOS ç“¶é¢ˆã€‚\nä½¿ç”¨ä¸»ä»æ¨¡å¼ä¿è¯æ•°æ®çš„ä¸ä¸¢å¤±ã€‚\nä½¿ç”¨å“¨å…µæ¨¡å¼ç›‘æ§ master å¯ç”¨æ€§ï¼ŒåŠæ—¶æå‡ä»æœåŠ¡ä¸ºä¸»æœåŠ¡ï¼Œæ¥ä¿è¯é«˜å¯ç”¨ã€‚\n","description":"","tags":["redis"],"title":"redis å¤‡å¿˜å½•","uri":"/posts/redis%E5%A4%87%E5%BF%98%E5%BD%95/"}]
